/* eslint-disable max-len */
const item2_10 = '994277,1433802,993837,993892,994045,994048,994051,993767,994239,997398,993755,993763,993770,993781,993890,993943,994043,994046,994049,994226,994237,995447,996979,996983,996991,996994,997019,997169,997280,997285,997301,1431286,1536459,996734,996976,996978,996981,996982,996988,997164,997165,997170,997284,997287,997296,1536457,1310202,1310212,1310270,857105,857113,857120,1442445,1495472,1495474,1495476,857370,857001,857004,857007,857136,858838,1492671,1492673,1492675,1147395,856942,856984,856991,856996,858772,858784,859331,856946,858780,859317,1860492,1860494,1860496,1860498,1860500,1860502,1542981,1542988,1595736,1595742,1595748,1595754,1595760,1595766,1595772,833036,856992,857005,857083,857118,857134,858798,860599,1044427,856903,856908,856940,856944,856962,856980,856987,856999,857002,857076,857099,857107,857111,857121,857128,857131,857383,857391,857501,858770,858778,859315,1860491,1595730,1595740,1595746,1860493,1860495,1860497,1860499,1860501,1595752,1595758,1595764,1595770,404414,1010603,1010606,1010608,1010609,1307058,1307063,904874,904878,904882,1432971,1542999,1864414,1431083,1431104,1597570,1597575,1666385,1542396,1544853,1544856,1716063,1716067,1716071,1716075,1716079,1716083,1716090,1797655,2106368,2058257,1864412,246474,250426,1010600,1010604,351264,351265,351266,351267,904870,904876,904880,1431076,1431102,1432969,1542390,1542997,1544851,1544854,1597568,1597573,1666338,1716057,1716065,1716069,1716073,1716077,1716081,1716086,1797650,1307056,1307061,250473,2046597,2046591,864737,864980,991149,864712,864708,864720,1990745,864706,864718,864761,864769,864984,991147,864978,836397,836395,999729,886634,250879,250880,1234976,1190201,1234990,1234957,2105929,1995536,1596108,1812164,1234871,1234872,1234941,1234978,1234999,1235009,1235011,1236179,1236182,1236184,1236188,1236190,1236239,1053651,1053654,1053657,1053660,1053663,1053666,1115575,1115579,1729322,261184,261185,261186,262071,583490,261106,261107,261108,261109,261110,262219,668622,668624,668626,668628,668630,1666837,1237055,1237059,1237062,1237066,1237070,1666831,1115573,1115577,1237050,1237060,1053652,1053655,1053658,197696,245134,245135,245136,310295,310296,310297,668364,668365,706898,858092,858095,1053647,668363,310292,1053664,310293,310294,313993,668367,858087,858101,1053661,313992,668366,858098,577057,1603495,1603498,1603501,1729320,1237057,1237064,1237068,897658,897698,897704,897712,902733,902738,902743,1306900,898611,898614,898618,897657,897696,897702,897710,897749,897771,898004,898138,898139,898612,898624,902729,902736,902741,1306898,1049589,861517,861525,861455,861467,861479,861578,1655058,1655060,106505,892496,892556,892560,892574,892598,892645,892648,892658,892660,894803,894805,894813,894816,1303738,892299,892344,892351,892357,863847,863849,863851,863853,863855,863857,1745881,1745886,1745889,1745892,1871440,1871443,1871446,894942,894970,895248,863848,863850,863852,891885,891888,892342,892345,892596,892603,892669,892672,892678,894801,895201,895221,895227,1871441,1872234,863845,863854,863856,891874,891883,891890,891893,892349,892352,892554,894814,895022,895247,1871444,891878,891881,892297,892355,892494,892516,892579,892582,892589,892625,892643,892646,894780,894807,894918,894986,895014,895016,895185,895199,895206,895208,895215,895217,895219,895233,895238,895240,895869,895871,1871434,895861,895867,1303736,1545903,1545907,1545910,1806707,1806701,1806710,1806716,1806722,1806728,1806734,312104,312107,830196,248477,1944535,1944540,1944543,1049216,1049223,1049227,1487288,1049504,1049545,1049565,1049576,1049586,1049595,1049601,1050409,1049582,1049613,1049620,1049623,1050490,1049625,1049637,1049640,1049642,1049647,1049650,1049655,848772,848928,1491834,1537116,1537120,1537122,1664448,1664634,1790533,1791560,1791569,1791576,1791582,2045500,247626,247627,248307,1944541,1014599,1014615,1014632,1049214,1049221,1049225,1049233,1049251,1049260,1049267,1049270,1049502,1049621,1049651,1049658,1049683,1049691,1049696,1049717,1049727,1113314,1491832,1860157,1037259,1049635,1944529,1944538,1049543,1049557,1049563,1049574,1049580,1049584,1049593,1049599,1049604,1049611,1049615,1049618,1049686,1049720,1049721,1860127,1860129,1860137,1860148,1860151,1860154,637540,724614,848768,1790527,1791558,1791567,1791574,1791580,2105822,199789,250486,250877,312289,250485,312288,827750,827748,827751,828576,828581,828585,828594,849279,849303,849304,849293,849295,849455,1149367,1149370,1149373,1149376,1149378,854140,854142,854144,1148800,1148803,1148807,1148797,1148809,825409,825411,825413,1356315,1148482,1148487,1148491,835605,845314,845315,845316,833710,833712,833714,849561,1148478,1148485,1148489,833709,833711,833713,835603,836408,836466,836485,849903,1248115,1946525,1946527,1946529,849331';
const item3_10 = '12478-4,78813-3,16212-3,19421-7,78754-9,67126-3,58358-3,8174-5,53743-1,19579-2,86606-1,79232-5,21557-4,79237-4,44424-0,67838-3,3779-6,18355-8,19569-3,58397-1,19578-4,19514-9,78847-1,14309-9,45143-5,19268-2,87492-5,72808-9,79234-1,78843-0,64127-4,19073-6,19565-1,14267-9,20410-7,61058-4,14310-7,19461-3,19554-5,73918-5,12292-9,14314-9,78849-7,18392-1,19556-0,3351-4,14312-3,3568-3,19572-7,72467-4,19288-0,78845-5,19580-0,3530-3,20519-5,3349-8,75651-0,45185-6,70143-3,72468-2,19684-0,80113-4,19511-5,72779-2,8151-3,72818-8,3901-6,19383-9,3635-0,72802-2,3936-2,3787-9,19292-2,19567-7,19263-3,19653-5,78841-4,72778-4,31025-0,72796-6,19405-0,19515-6,78839-8,86195-5,19425-8,70138-3,16235-4,76492-8,3565-9,72874-1,42241-0,79236-6,19346-6,19688-1,78844-8,19659-2,16226-3,13497-3,3564-2,8150-5,27085-0,78783-8,19348-2,19459-7,19363-1,3488-4,86192-2,19456-3,19384-7,82723-8,72466-6,19415-9,79241-6,72464-1,72809-7,15366-8,73998-7,77772-2,3435-5,15404-7,72825-3,79233-3,52951-1,19427-4,6930-2,8193-5,19660-0,20521-1,19566-9,59328-5,8238-8,52954-5,59928-2,14311-5,14315-6,77771-4,64138-1,78878-6,74000-1,78837-2,20558-3,79246-5,55587-0,18415-0,19287-2,3397-7,13478-3,16234-7,42253-5,19409-2,87486-7,14313-1,87494-1,87487-5,72461-7,72469-0,3394-4,19359-9,19555-2,19571-9,59844-1,86196-3,78850-5,20546-8,72471-6,78836-4,78879-4,16369-1,19416-7,18282-4,19510-7,19382-1,19055-3,33350-0,18358-2,50594-1,72807-1,20413-1,19458-9,19347-4,19512-3,78858-8,19420-9,19530-5,26747-6,40419-4,87762-1,3352-2,3939-6,19568-5,72782-6,56120-9,72462-5,72470-8,19651-9,19266-6,19267-4,3808-3,3941-2,19544-6,3786-1,8152-1,19418-3,3633-5,3436-3,87491-7,18414-3,19289-8,3426-4,79235-8,5608-5,3634-3,87484-2,43985-1,19269-0,42252-7,9726-1,19344-1,72805-5,16632-2,19542-0,79141-8,3627-7,72473-2,72783-4,72790-9,19428-2,20548-4,72463-3,79244-0,19291-4,19452-2,72804-8,19419-1,72791-7,78842-2,3393-6,19453-0,19408-4,19577-6,16214-9,26760-9,88022-9,16244-6,20526-0,19687-3,47400-7,50592-5,14308-1,19358-1,19455-5,3940-4,79243-2,19357-3,19543-8,43984-4,72792-5,3350-6,42860-7,72795-8,19685-7,12477-6,19559-4,78817-4,33507-5,19683-2,58357-5,19560-2,16492-1,86194-8,86191-4,3656-6,31016-9,3732-5,78840-6,79144-2,16448-3,3427-2,72472-4,19661-8,78881-0,17504-2,19424-1,87493-3,74001-9,27409-2,78838-0,73914-4,72465-8,61048-5,17872-3,3937-0,80144-9,70146-6,19293-0,3970-1,52957-8,3658-2,19381-3,8175-2,3566-7,19654-3,19360-7,52953-7,19423-3,86607-9,20554-2,72459-1,72875-8,13479-1,19410-0,78814-1,72460-9,19652-7,59329-3,12331-5,21386-8,19261-7,79242-4,78846-3,20525-2,19570-1,43983-6,72806-3,19557-8,3489-2,78880-2,19691-5,59135-4,87488-3,18389-7,72803-0,33280-9,78848-9,70145-8,73686-8,20543-5,19362-3,59287-3,87495-8,3780-4,72780-0,8192-7,19545-3,87490-9,3903-2,19690-7,73999-5,16254-5,21556-6,12296-0,19059-5,31026-8,72474-0,72817-0,3902-4,3657-4,19294-8,3629-3,73917-7,3810-9,19460-5,19422-5,19406-8,13498-1,70144-1,72794-1,19262-5,72793-3,78757-2,19686-5,5679-6,19343-3,19528-9,41464-9,20545-0,58925-9,19558-6,64233-0,19454-8,8237-0,12295-2,3398-5,3628-5,3809-1,20542-7,19531-3,72781-8,87489-1,19065-2,69798-7';
const item4_10 = '50542-0,19487-8,3871-1,13648-1,78861-2,19644-4,58396-3,66129-8,5706-7,12309-1,16253-7,3414-0,19437-3,75643-7,20527-8,72731-3,77777-1,58394-8,51448-9,49752-9,59673-4,11235-9,19532-1,18383-0,46971-8,72729-7,58393-0,3507-1,19593-3,70150-8,61424-8,58402-9,4077-4,26867-2,16998-7,65807-0,3540-2,8221-4,9835-0,19436-5,77787-0,65808-8,58430-0,19603-0,3879-4,86609-5,11073-4,3575-8,58384-9,72789-1,49831-1,19648-5,19609-7,72732-1,70197-9,58379-9,51739-1,58391-4,19550-3,79259-8,4075-8,58389-8,41465-6,16250-3,3618-6,19485-2,19450-6,58382-3,19613-9,70149-0,75362-4,19411-8,16246-1,74810-3,77879-5,19439-9,3829-9,78873-7,19138-7,3309-2,16208-1,19602-2,20551-8,19645-1,40839-3,78770-5,19297-1,14066-5,70151-6,19323-5,21431-2,78857-0,16249-5,3831-5,74817-8,58381-5,86608-7,58390-6,16252-9,19434-0,3573-3,19431-6,86604-6,78863-8,77779-7,41466-4,3839-8,19379-7,16196-8,60276-3,58387-2,16207-3,86193-0,51738-3,19636-0,70215-9,19534-7,82524-0,3310-0,19608-9,61197-0,19432-4,16851-8,3832-3,3546-9,10976-9,19302-9,58399-7,19600-6,3416-5,19516-4,19465-4,16334-5,19637-8,20550-0,19322-7,19299-7,78766-3,86610-3,77754-0,18334-3,3545-1,78768-9,19413-4,72485-6,78769-7,3619-4,3851-3,27920-8,18325-1,3830-7,19442-3,19296-3,16198-4,77207-9,19601-4,16213-1,3869-5,8220-6,42251-9,61421-4,74372-4,12333-1,58386-4,3747-3,16218-0,19646-9,58359-1,78828-1,16197-6,58398-9,61422-2,51954-6,19642-8,3774-7,19378-9,61420-6,58395-5,19632-9,42618-9,12308-3,12554-2,78868-7,59960-5,19597-4,19321-9,19605-5,47004-7,16242-0,16211-5,9396-3,19610-5,78864-6,64131-6,3547-7,19462-1,19448-0,3840-6,19607-1,19482-9,58383-1,19435-7,70210-0,51740-9,19380-5,58360-9,19535-4,3841-4,19414-2,16496-2,58392-2,3748-1,79240-8,18390-5,3311-8,19552-9,19449-8,3637-6,58388-0,58428-4,19650-1,79377-8,19464-7,43199-9,79260-6,58401-1,19451-4,46975-9,3773-9,3681-4,3842-2,78765-5,17384-9,19612-1,19429-0,19441-5,81754-4,19377-1,78874-5,17395-5,11246-6,51737-5,10998-3,19604-8,75649-4,33527-3,46973-4,3508-9,11075-9,3775-4,4076-6,52952-9,19486-0,61429-7,11247-4,77775-5,72384-1,19141-1,55520-1,16199-2,19643-6,19446-4,16755-1,3711-9,19484-5,19324-3,16200-8,77752-4,70147-4,38373-7,12395-0,19611-3,18435-8,82527-3,3712-7,70148-2,78862-0,18473-9,19518-0,20540-1,78865-3,74818-6,72730-5,16251-1,78767-1,70206-8,19635-2,3415-7,19599-0,19300-3,41858-2,58380-7,49829-5,17377-3,16749-4,58385-6,3357-1,16499-6,17376-5,3713-5,86197-1,19649-3,13641-6,43200-5,19295-5,51955-3,19553-7,73995-3,3541-0,58429-2,78830-7,52958-6,60514-7,9834-3,77764-9,51736-7,10975-1,61425-5,60126-0,19433-2,19463-9,3746-5,3574-1,19519-8,19438-1,19488-6,8222-2,3359-7';
const item2_11 = '141927,141928,214003,214004,687022,687023,687024,687025,577634,577643,577648,197321,197322,308047,308049,308050,433799,433800,485413,485414,485416,308048,433798,485415,433801,28697,28727,2356,203173,856781,856796,889616,856769,856792,856863,889614,905516,905521,905369,905495,905505,905525,905532,1191051,21241,1366196,1191056,1191058,199450,246172,1366192,202585,2598,206157,206159,206160,197527,197528,349196,349198,197529,349197,204892,349195,246306,249943,349194,387007,387008,235408,202472,216586,3322,104699,104700,104701,801958,801962,801965,104706,105032,197589,197590,309844,309845,801957,801961,801966,1807452,1807459,197591,309843,141926,422657,108380,422658,108379,4077,197653,197654,4501,71484,1298088,1298091,202479,6470,104719,206819,206820,206821,206828,1665190,1665327,197901,197902,238100,311376,763028,1665188,197900,238101,763029,1665326,199275,6960,142441,203128,311700,998211,1666777,1666798,1666800,106517,422410,311702,1551393,1551395,1666814,1666821,1666823,199775,7781,198057,198058,312133,312134,198059,312135,216726,35185,207889,198183,198184,219641,10355,208463,208464,208465,539384,198241,198242,198243,199273,199975,104693,151283,199278,485489,227423,10767,208681,198317,198318,1749,104707,199436,199437,202966,2353,2607,1149627,542857,542967,1251277,197464,197465,197466,576647,618739,618751,618737,4460,199471,104683,7440,199492,141922,141923,108880';
const item3_11 = '';
const item4_11 = '1010600,1010603,1010604,1010606,1010608,1010609,1012727,1014599,1014615,1014632,1037259,1042693,1043650,1044427,1049214,1049216,1049221,1049223,1049225,1049227,1049233,1049251,1049260,1049267,1049270,1049502,1049504,1049543,1049545,1049557,1049563,1049565,1049574,1049576,1049580,1049582,1049584,1049586,1049589,1049593,1049595,1049599,1049601,1049604,1049611,1049613,1049615,1049618,1049620,1049621,1049623,1049625,1049635,1049637,1049640,1049642,1049647,1049650,1049651,1049655,1049658,1049683,1049686,1049691,1049696,1049709,1049717,1049719,1049720,1049721,1049727,1050409,1050490,1053647,1053651,1053652,1053654,1053655,1053657,1053658,1053660,1053661,1053663,1053664,1053666,1086310,1086926,1087389,1087427,1087459,1087463,1088951,1088953,1088963,1088965,1088968,1088970,1088975,1088977,1089021,1089023,1089025,1089027,1089028,1089030,1089055,1089057,1089058,1089060,1089061,1089063,1089070,1089072,1098906,1099711,1112220,1112224,1113048,1113050,1113051,1113053,1113313,1113314,1113316,1113417,1113437,1113998,1114002,1114003,1114026,1114030,1114110,1114334,1114338,1114878,1115573,1115575,1115577,1115579,1145972,1147395,1147709,1148478,1148482,1148485,1148487,1148489,1148491,1148797,1148800,1148803,1148807,1148809,1149367,1149370,1149373,1149376,1149378,1190201,1190284,1190580,1190587,1190785,1232113,1233685,1233686,1233687,1233700,1234871,1234872,1234941,1234957,1234976,1234978,1234990,1234999,1235009,1235011,1235862,1236113,1236115,1236179,1236181,1236182,1236184,1236186,1236188,1236190,1236239,1237050,1237055,1237057,1237059,1237060,1237062,1237064,1237066,1237068,1237070,1242106,1242503,1242558,1244754,1244921,1248039,1248040,1248044,1248046,1248115,1294356,1294380,1294382,1294383,1297584,1297649,1302739,1302741,1303729,1303731,1303733,1303736,1303738,1303740,1303742,1306898,1306900,1307056,1307058,1307061,1307063,1308438,1308440,1310202,1310212,1310270,1310927,1313294,1356315,1356319,1356797,1356799,1356800,1356802,1356804,1356806,1356807,1356809,1356835,1357402,1357940,1357942,1358753,1366873,1366875,1366879,1368072,1372265,1372873,1424295,1424297,1431076,1431083,1431102,1431104,1431286,1432969,1432971,1433251,1433802,1440003,1442445,1442790,1487288,1488634,1488639,1489991,1491832,1491834,1492671,1492673,1492675,1495472,1495474,1495476,1535979,1535981,1536457,1536459,1537116,1537120,1537122,1541630,1542390,1542396,1542981,1542988,1542997,1542999,1544851,1544853,1544854,1544856,1545903,1545907,1545910,1546089,1547607,1594650,1594655,1595214,1595730,1595736,1595740,1595742,1595746,1595748,1595752,1595754,1595758,1595760,1595764,1595766,1595770,1595772,1596108,1597568,1597570,1597573,1597575,1598284,1603495,1603498,1603501,1650982,1651558,1651564,1652087,1652093,1655032,1655058,1655060,1661319,1661325,1664448,1664543,1664634,1665685,1665687,1665690,1665691,1665697,1665698,1665699,1665700,1665701,1665702,1666338,1666385,1666831,1666837,1716057,1716063,1716065,1716067,1716069,1716071,1716073,1716075,1716077,1716079,1716081,1716083,1716086,1716090,1724276,1724338,1724340,1724341,1724352,1724354,1724356,1724358,1724359,1724383,1724644,1728351,1728355,1728783,1728784,1728789,1728791,1728792,1728800,1728801,1728805,1728806,1728999,1729197,1729320,1729322,1731517,1731520,1731522,1731530,1731537,1731545,1731993,1731995,1731998,1731999,1732003,1732006,1732011,1732014,1732136,1732138,1733080,1735003,1735006,1735007,1735008,1735013,1735057,1735060,1735062,1735065,1745881,1745886,1745889,1745892,1790527,1790533,1791558,1791560,1791567,1791569,1791574,1791576,1791580,1791582,1792707,1797650,1797655,1806701,1806707,1806710,1806716,1806722,1806728,1806734,1809204,1811473,1811475,1812164,1860127,1860129,1860137,1860148,1860151,1860154,1860157,1860491,1860492,1860493,1860494,1860495,1860496,1860497,1860498,1860499,1860500,1860501,1860502,1864412,1864414,1871434,1871440,1871441,1871443,1871444,1871446,1872234,1872265,1872269,1872271,1872272,1872752,1944529,1944535,1944538,1944540,1944541,1944543,1946525,1946527,1946529,1947138,197696,197873,198402,198403,1990745,199400,1995536,1996184,1996189,1996192,1996193,199789,205533,211354,238129,238133,245134,245135,245136,246474,250426,250485,250486,250877,261106,261107,261108,261109,261110,261184,261185,261186,262071,262219,310293,310294,310295,310296,310297,311297,311300,312288,312289,313992,313993,351264,351265,351266,351267,388506,388507,388508,577057,583490,637540,668363,668364,668365,668366,668367,668622,668624,668626,668628,668630,706898,724614,727759,825409,825411,825413,827748,827750,827751,828576,828581,828585,828594,833036,833709,833710,833711,833712,833713,833714,835603,835605,836395,836397,836408,836466,836485,845314,845315,845316,848768,848772,848928,849279,849293,849295,849303,849304,849306,849329,849331,849455,849563,849564,849903,854140,854142,854144,856892,856894,856903,856907,856908,856940,856942,856944,856946,856962,856980,856984,856987,856991,856992,856996,856999,857001,857002,857004,857005,857007,857076,857083,857099,857105,857107,857111,857113,857118,857120,857121,857128,857131,857134,857136,857237,857370,857383,857391,857501,857510,857512,857556,857575,857734,857830,857839,857845,857851,858087,858092,858095,858098,858101,858770,858772,858778,858780,858784,858798,858838,858876,858878,858937,858939,858945,858953,858967,858969,858976,858991,859003,859005,859019,859027,859029,859097,859099,859137,859141,859143,859146,859150,859156,859162,859164,859181,859209,859220,859222,859225,859247,859315,859317,859327,859329,859331,859366,859368,859376,859383,859939,859941,859943,860138,860151,860159,860239,860426,860446,860530,860579,860593,860599,860600,860792,861447,861455,861459,861463,861467,861473,861476,861479,861482,861493,861494,861517,861520,861522,861525,861529,861578,861617,863845,863847,863848,863849,863850,863851,863852,863853,863854,863855,863856,863857,864706,864708,864712,864714,864718,864720,864737,864751,864761,864769,864794,864828,864978,864980,864984,886622,886627,886634,891172,891874,891878,891881,891883,891885,891888,891890,891893,892297,892299,892342,892344,892345,892349,892351,892352,892355,892357,892473,892489,892494,892496,892516,892531,892554,892556,892560,892574,892579,892582,892589,892596,892598,892603,892625,892643,892645,892646,892648,892652,892658,892660,892669,892672,892678,894780,894801,894803,894805,894807,894813,894814,894816,894911,894912,894914,894918,894933,894942,894970,894986,895014,895016,895022,895185,895194,895199,895201,895202,895206,895208,895213,895215,895217,895219,895221,895227,895233,895238,895240,895247,895248,895861,895867,895869,895871,897653,897655,897657,897658,897677,897687,897696,897698,897702,897704,897710,897712,897730,897737,897745,897747,897749,897753,897755,897756,897757,897758,897771,898004,898138,898139,898612,898624,899125,902729,902733,902736,902738,902741,902743,904870,904874,904876,904878,904880,904882,977874,977876,977894,977896,977902,977904,977909,977911,977915,977917,977923,977925,977929,977931,977935,977937,977939,977940,977942,977943,977971,977974,991147,991149,991486,992656,992668,992675,992733,993755,993763,993767,993770,993781,993837,993890,993892,993924,993926,993943,994043,994045,994046,994048,994049,994051,994226,994228,994237,994239,994277,994289,994402,994404,995041,995043,995062,995064,995065,995067,995068,995070,995071,995073,995075,995077,995079,995081,995082,995084,995086,995088,995093,995095,995108,995110,995116,995118,995120,995122,995123,995125,995128,995132,995211,995213,995214,995216,995226,995438,995440,995441,995443,995447,995450,995453,995455,995476,995478,995483,995868,995872,995936,995940,995956,995983,995985,995993,996253,996263,996462,996481,996484,996512,996580,996584,996621,996623,996627,996629,996636,996640,996648,996650,996706,996708,996710,996712,996714,996716,996718,996720,996722,996724,996725,996727,996728,996730,996734,996736,996738,996757,996976,996978,996979,996981,996982,996983,996988,996991,996994,996998,997008,997014,997019,997160,997164,997165,997169,997170,997175,997272,997280,997284,997285,997287,997289,997296,997301,997303,997398,998212,998213,999729';

const opioidLibraryNumber = 11;
//    let prefetchData = getPrefetch(collector);//"{    \"hookInstance\": \"31c74cfc-747c-4afc-82e4-bdd3b7a0a58c\",    \"fhirServer\": \"http://localhost:8080/cqf-ruler-r4/fhir\",    \"hook\": \"patient-view\",    \"applyCql\": true,    \"context\": {        \"userId\": \"Practitioner/example\",        \"patientId\": \"Patient/example-rec-10-illicit-drugs\",        \"encounterId\": \"Encounter/example-rec-10-illicit-drugs-context\"    },    \"prefetch\": {        \"item1\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Patient\",                \"id\": \"example-rec-10-illicit-drugs\",                \"gender\": \"female\",                \"birthDate\": \"1982-01-07\",                \"name\": [                    {                        \"family\": \"Smith\",                        \"given\": [                            \"John\",                            \"A.\"                        ]                    }                ]            }        },        \"item2\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Bundle\",                \"entry\": [                    {                        \"resource\": {                            \"resourceType\": \"MedicationRequest\",                            \"id\": \"example-rec-10-illicit-drugs-prefetch\",                            \"status\": \"active\",                            \"intent\": \"order\",                            \"category\": [                                {                                    \"coding\": [                                        {                                            \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",                                            \"code\": \"outpatient\"                                        }                                    ]                                }                            ],                            \"medicationCodeableConcept\": {                                \"coding\": [                                    {                                        \"system\": \"http://www.nlm.nih.gov/research/umls/rxnorm\",                                        \"code\": \"1049502\",                                        \"display\": \"12 HR Oxycodone Hydrochloride 10 MG Extended Release Oral Tablet\"                                    }                                ]                            },                            \"subject\": {                                \"reference\": \"Patient/example-rec-10-illicit-drugs\"                            },                            \"encounter\": {                                \"reference\": \"Encounter/example-rec-10-illicit-drugs-prefetch\"                            },                            \"_authoredOn\": {                                \"extension\": [                                    {                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                        \"valueExpression\": {                                            \"language\": \"text/cql\",                                            \"expression\": \"Today() - 90 days\"                                        }                                    }                                ]                            },                            \"dosageInstruction\": [                                {                                    \"timing\": {                                        \"repeat\": {                                            \"frequency\": 3,                                            \"period\": 1.0,                                            \"periodUnit\": \"d\"                                        }                                    },                                    \"asNeededBoolean\": false,                                    \"doseAndRate\": [                                        {                                            \"doseQuantity\": {                                                \"value\": 1.0,                                                \"unit\": \"tablet\"                                            }                                        }                                    ]                                }                            ],                            \"dispenseRequest\": {                                \"_validityPeriod\": {                                    \"extension\": [                                        {                                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                            \"valueExpression\": {                                                \"language\": \"text/cql\",                                                \"expression\": \"FHIR.Period { start: FHIR.dateTime { value: Today() - 90 days }, end: FHIR.dateTime { value: Today() } }\"                                            }                                        }                                    ]                                },                                \"numberOfRepeatsAllowed\": 3,                                \"expectedSupplyDuration\": {                                    \"value\": 30.0,                                    \"unit\": \"d\"                                }                            }                        }                    },                    {                        \"resource\": {                            \"resourceType\": \"MedicationRequest\",                            \"id\": \"example-rec-10-illicit-drugs-context\",                            \"status\": \"active\",                            \"intent\": \"order\",                            \"category\": [                                {                                    \"coding\": [                                        {                                            \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",                                            \"code\": \"outpatient\"                                        }                                    ]                                }                            ],                            \"medicationCodeableConcept\": {                                \"coding\": [                                    {                                        \"system\": \"http://www.nlm.nih.gov/research/umls/rxnorm\",                                        \"code\": \"197696\",                                        \"display\": \"72 HR Fentanyl 0.075 MG/HR Transdermal System\"                                    }                                ]                            },                            \"subject\": {                                \"reference\": \"Patient/example-rec-10-illicit-drugs\"                            },                            \"encounter\": {                                \"reference\": \"Encounter/example-rec-10-illicit-drugs-context\"                            },                            \"_authoredOn\": {                                \"extension\": [                                    {                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                        \"valueExpression\": {                                            \"language\": \"text/cql\",                                            \"expression\": \"Today()\"                                        }                                    }                                ]                            },                            \"dosageInstruction\": [                                {                                    \"timing\": {                                        \"repeat\": {                                            \"frequency\": 1,                                            \"period\": 12.0,                                            \"periodUnit\": \"d\"                                        }                                    },                                    \"asNeededBoolean\": false,                                    \"doseAndRate\": [                                        {                                            \"doseQuantity\": {                                                \"value\": 1.0,                                                \"unit\": \"patch\"                                            }                                        }                                    ]                                }                            ],                            \"dispenseRequest\": {                                \"_validityPeriod\": {                                    \"extension\": [                                        {                                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                            \"valueExpression\": {                                                \"language\": \"text/cql\",                                                \"expression\": \"FHIR.Period { start: FHIR.dateTime { value: Today() }, end: FHIR.dateTime { value: Today() + 3 months } }\"                                            }                                        }                                    ]                                },                                \"numberOfRepeatsAllowed\": 3,                                \"expectedSupplyDuration\": {                                    \"value\": 30.0,                                    \"unit\": \"d\"                                }                            }                        }                    }                ]            }        },        \"item3\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Observation\",                \"id\": \"example-rec-10-illicit-drugs-prefetch\",                \"status\": \"final\",                \"code\": {                    \"coding\": [                        {                            \"system\": \"http://loinc.org\",                            \"code\": \"3426-4\",                            \"display\": \"Tetrahydrocannabinol [Presence] in Urine\"                        }                    ]                },                \"subject\": {                    \"reference\": \"Patient/example-rec-10-illicit-drugs\"                },                \"_effectiveDateTime\": {                    \"extension\": [                        {                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                            \"valueExpression\": {                                \"language\": \"text/cql\",                                \"expression\": \"Today() - 28 days\"                            }                        }                    ]                },                \"interpretation\": {                    \"coding\": [                        {                            \"system\": \"http://hl7.org/fhir/v2/0078\",                            \"code\": \"POS\"                        }                    ]                }            }        },        \"item4\": null    }}";
// + "\",\"encounterId\": \"Encounter/example-rec-10-illicit-drugs-context\"    },    \"prefetch\": {        \"item1\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Patient\",                \"id\": \"example-rec-10-illicit-drugs\",                \"gender\": \"female\",                \"birthDate\": \"1982-01-07\",                \"name\": [                    {                        \"family\": \"Smith\",                        \"given\": [                            \"John\",                            \"A.\"                        ]                    }                ]            }        },        \"item2\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Bundle\",                \"entry\": [                    {                        \"resource\": {                            \"resourceType\": \"MedicationRequest\",                            \"id\": \"example-rec-10-illicit-drugs-prefetch\",                            \"status\": \"active\",                            \"intent\": \"order\",                            \"category\": [                                {                                    \"coding\": [                                        {                                            \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",                                            \"code\": \"outpatient\"                                        }                                    ]                                }                            ],                            \"medicationCodeableConcept\": {                                \"coding\": [                                    {                                        \"system\": \"http://www.nlm.nih.gov/research/umls/rxnorm\",                                        \"code\": \"1049502\",                                        \"display\": \"12 HR Oxycodone Hydrochloride 10 MG Extended Release Oral Tablet\"                                    }                                ]                            },                            \"subject\": {                                \"reference\": \"Patient/example-rec-10-illicit-drugs\"                            },                            \"encounter\": {                                \"reference\": \"Encounter/example-rec-10-illicit-drugs-prefetch\"                            },                            \"_authoredOn\": {                                \"extension\": [                                    {                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                        \"valueExpression\": {                                            \"language\": \"text/cql\",                                            \"expression\": \"Today() - 90 days\"                                        }                                    }                                ]                            },                            \"dosageInstruction\": [                                {                                    \"timing\": {                                        \"repeat\": {                                            \"frequency\": 3,                                            \"period\": 1.0,                                            \"periodUnit\": \"d\"                                        }                                    },                                    \"asNeededBoolean\": false,                                    \"doseAndRate\": [                                        {                                            \"doseQuantity\": {                                                \"value\": 1.0,                                                \"unit\": \"tablet\"                                            }                                        }                                    ]                                }                            ],                            \"dispenseRequest\": {                                \"_validityPeriod\": {                                    \"extension\": [                                        {                                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                            \"valueExpression\": {                                                \"language\": \"text/cql\",                                                \"expression\": \"FHIR.Period { start: FHIR.dateTime { value: Today() - 90 days }, end: FHIR.dateTime { value: Today() } }\"                                            }                                        }                                    ]                                },                                \"numberOfRepeatsAllowed\": 3,                                \"expectedSupplyDuration\": {                                    \"value\": 30.0,                                    \"unit\": \"d\"                                }                            }                        }                    },                    {                        \"resource\": {                            \"resourceType\": \"MedicationRequest\",                            \"id\": \"example-rec-10-illicit-drugs-context\",                            \"status\": \"active\",                            \"intent\": \"order\",                            \"category\": [                                {                                    \"coding\": [                                        {                                            \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",                                            \"code\": \"outpatient\"                                        }                                    ]                                }                            ],                            \"medicationCodeableConcept\": {                                \"coding\": [                                    {                                        \"system\": \"http://www.nlm.nih.gov/research/umls/rxnorm\",                                        \"code\": \"197696\",                                        \"display\": \"72 HR Fentanyl 0.075 MG/HR Transdermal System\"                                    }                                ]                            },                            \"subject\": {                                \"reference\": \"Patient/example-rec-10-illicit-drugs\"                            },                            \"encounter\": {                                \"reference\": \"Encounter/example-rec-10-illicit-drugs-context\"                            },                            \"_authoredOn\": {                                \"extension\": [                                    {                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                        \"valueExpression\": {                                            \"language\": \"text/cql\",                                            \"expression\": \"Today()\"                                        }                                    }                                ]                            },                            \"dosageInstruction\": [                                {                                    \"timing\": {                                        \"repeat\": {                                            \"frequency\": 1,                                            \"period\": 12.0,                                            \"periodUnit\": \"d\"                                        }                                    },                                    \"asNeededBoolean\": false,                                    \"doseAndRate\": [                                        {                                            \"doseQuantity\": {                                                \"value\": 1.0,                                                \"unit\": \"patch\"                                            }                                        }                                    ]                                }                            ],                            \"dispenseRequest\": {                                \"_validityPeriod\": {                                    \"extension\": [                                        {                                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                                            \"valueExpression\": {                                                \"language\": \"text/cql\",                                                \"expression\": \"FHIR.Period { start: FHIR.dateTime { value: Today() }, end: FHIR.dateTime { value: Today() + 3 months } }\"                                            }                                        }                                    ]                                },                                \"numberOfRepeatsAllowed\": 3,                                \"expectedSupplyDuration\": {                                    \"value\": 30.0,                                    \"unit\": \"d\"                                }                            }                        }                    }                ]            }        },        \"item3\": {            \"response\": {                \"status\": \"200 OK\"            },            \"resource\": {                \"resourceType\": \"Observation\",                \"id\": \"example-rec-10-illicit-drugs-prefetch\",                \"status\": \"final\",                \"code\": {                    \"coding\": [                        {                            \"system\": \"http://loinc.org\",                            \"code\": \"3426-4\",                            \"display\": \"Tetrahydrocannabinol [Presence] in Urine\"                        }                    ]                },                \"subject\": {                    \"reference\": \"Patient/example-rec-10-illicit-drugs\"                },                \"_effectiveDateTime\": {                    \"extension\": [                        {                            \"url\": \"http://hl7.org/fhir/StructureDefinition/cqf-expression\",                            \"valueExpression\": {                                \"language\": \"text/cql\",                                \"expression\": \"Today() - 28 days\"                            }                        }                    ]                },                \"interpretation\": {                    \"coding\": [                        {                            \"system\": \"http://hl7.org/fhir/v2/0078\",                            \"code\": \"POS\"                        }                    ]                }            }        },        \"item4\": null    }}";
//    let prefetchData2 = '{  "hookInstance": "b266185d-c26a-40dd-a024-70b5b6222170",  "fhirServer": "http://localhost:8080/cqf-ruler-dstu3/fhir",  "hook": "patient-view",  "applyCql": true,  "context": {    "userId": "Practitioner/example",    "patientId": "Patient/example-rec-11-benzo-trigger-with-opioid",    "encounterId": "Encounter/example-rec-11-benzo-trigger-with-opioid-context"  },  "prefetch": {    "item1": {      "response": {        "status": "200 OK"      },      "resource": {        "resourceType": "Patient",        "id": "example-rec-11-benzo-trigger-with-opioid",        "gender": "female",        "birthDate": "1982-01-07"      }    },    "item2": {      "response": {        "status": "200 OK"      },      "resource": {        "resourceType": "MedicationRequest",        "id": "example-rec-11-benzo-trigger-with-opioid-context",        "status": "active",        "intent": "order",        "category": [          {            "coding": [              {                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",                "code": "outpatient"              }            ]          }        ],        "medicationCodeableConcept": {          "coding": [            {              "system": "http://www.nlm.nih.gov/research/umls/rxnorm",              "code": "1298088",              "display": "Flurazepam Hydrochloride 15 MG Oral Capsule"            }          ]        },        "subject": {          "reference": "Patient/example-rec-11-benzo-trigger-with-opioid"        },        "encounter": {          "reference": "Encounter/example-rec-11-benzo-trigger-with-opioid-context"        },        "_authoredOn": {          "extension": [            {              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",              "valueExpression": {                "language": "text/cql",                "expression": "Today()"              }            }          ]        },        "dosageInstruction": [          {            "timing": {              "repeat": {                "frequency": 1,                "period": 1.0,                "periodUnit": "d"              }            },            "asNeededBoolean": false,            "doseAndRate": [              {                "doseQuantity": {                  "value": 1.0,                  "unit": "capsule"                }              }            ]          }        ],        "dispenseRequest": {          "_validityPeriod": {            "extension": [              {                "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",                "valueExpression": {                  "language": "text/cql",                  "expression": "FHIR.Period { start: FHIR.dateTime { value: Today() }, end: FHIR.dateTime { value: Today() + 3 months } }"                }              }            ]          },          "numberOfRepeatsAllowed": 3,          "expectedSupplyDuration": {            "value": 30.0,            "unit": "d"          }        }      }    },    "item3": {      "response": {        "status": "200 OK"      },      "resource": {        "resourceType": "MedicationRequest",        "id": "example-rec-11-benzo-trigger-with-opioid-prefetch",        "status": "active",        "intent": "order",        "category": [          {            "coding": [              {                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",                "code": "outpatient"              }            ]          }        ],        "medicationCodeableConcept": {          "coding": [            {              "system": "http://www.nlm.nih.gov/research/umls/rxnorm",              "code": "1049502",              "display": "12 HR Oxycodone Hydrochloride 10 MG Extended Release Oral Tablet"            }          ]        },        "subject": {          "reference": "Patient/example-rec-11-benzo-trigger-with-opioid"        },        "encounter": {          "reference": "Encounter/example-rec-11-benzo-trigger-with-opioid-prefetch"        },        "_authoredOn": {          "extension": [            {              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",              "valueExpression": {                "language": "text/cql",                "expression": "Today() - 28 days"              }            }          ]        },        "dosageInstruction": [          {            "timing": {              "repeat": {                "frequency": 1,                "period": 1.0,                "periodUnit": "d"              }            },            "asNeededBoolean": false,            "doseAndRate": [              {                "doseQuantity": {                  "value": 1.0,                  "unit": "tablet"                }              }            ]          }        ],        "dispenseRequest": {          "_validityPeriod": {            "extension": [              {                "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",                "valueExpression": {                  "language": "text/cql",                  "expression": "FHIR.Period { start: FHIR.dateTime { value: Today() - 28 days }, end: FHIR.dateTime { value: Today() + 3 months } }"                }              }            ]          },          "numberOfRepeatsAllowed": 3,          "expectedSupplyDuration": {            "value": 30.0,            "unit": "d"          }        }      }    }  }}';
//    let prefetchData3 = '{  "hookInstance": "b266185d-c26a-40dd-a024-70b5b6222170",  "fhirServer": "http://localhost:8080/cqf-ruler-dstu3/fhir",  "hook": "patient-view",  "applyCql": true,  "context": {    "user": "Practitioner/example",    "patientId": "Patient/example-rec-11-benzo-trigger-with-opioid",    "encounterId": "Encounter/example-rec-11-benzo-trigger-with-opioid-context"  },  "prefetch": {    "item1": {      "response": {        "status": "200 OK"      },      "resource": {        "resourceType": "Patient",        "id": "example-rec-11-benzo-trigger-with-opioid",        "gender": "female",        "birthDate": "1982-01-07"      }    },    "item2": {      "response": {        "status": "200 OK"      },      "resource": {        "resourceType": "Bundle",        "entry": [          {            "resource": {              "resourceType": "MedicationRequest",              "id": "example-rec-11-benzo-trigger-with-opioid-context",              "status": "active",              "intent": "order",              "category": {                "coding": [                  {                    "system": "http://hl7.org/fhir/medication-request-category",                    "code": "community"                  }                ]              },              "medicationCodeableConcept": {                "coding": [                  {                    "system": "http://www.nlm.nih.gov/research/umls/rxnorm",                    "code": "1298088",                    "display": "Flurazepam Hydrochloride 15 MG Oral Capsule"                  }                ]              },              "subject": {                "reference": "Patient/example-rec-11-benzo-trigger-with-opioid"              },              "context": {                "reference": "Encounter/example-rec-11-benzo-trigger-with-opioid-context"              },              "_authoredOn": {                "extension": [                  {                    "url": "http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression",                    "valueString": "Today()"                  }                ]              },              "dosageInstruction": [                {                  "timing": {                    "repeat": {                      "frequency": 1,                      "period": 1.0,                      "periodUnit": "d"                    }                  },                  "asNeededBoolean": false,                  "doseQuantity": {                    "value": 1.0,                    "unit": "capsule"                  }                }              ],              "dispenseRequest": {                "validityPeriod": {                  "extension": [                    {                      "url": "http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression",                      "valueString": "FHIR.Period { start: FHIR.dateTime { value: Today() }, end: FHIR.dateTime { value: Today() + 3 months } }"                    }                  ]                },                "numberOfRepeatsAllowed": 3,                "expectedSupplyDuration": {                  "value": 30.0,                  "unit": "d"                }              }            }          },          {            "resource": {              "resourceType": "MedicationRequest",              "id": "example-rec-11-benzo-trigger-with-opioid-prefetch",              "status": "active",              "intent": "order",              "category": {                "coding": [                  {                    "system": "http://hl7.org/fhir/medication-request-category",                    "code": "community"                  }                ]              },              "medicationCodeableConcept": {                "coding": [                  {                    "system": "http://www.nlm.nih.gov/research/umls/rxnorm",                    "code": "1049502",                    "display": "12 HR Oxycodone Hydrochloride 10 MG Extended Release Oral Tablet"                  }                ]              },              "subject": {                "reference": "Patient/example-rec-11-benzo-trigger-with-opioid"              },              "context": {                "reference": "Encounter/example-rec-11-benzo-trigger-with-opioid-prefetch"              },              "_authoredOn": {                "extension": [                  {                    "url": "http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression",                    "valueString": "Today() - 28 days"                  }                ]              },              "dosageInstruction": [                {                  "timing": {                    "repeat": {                      "frequency": 1,                      "period": 1.0,                      "periodUnit": "d"                    }                  },                  "asNeededBoolean": false,                  "doseQuantity": {                    "value": 1.0,                    "unit": "tablet"                  }                }              ],              "dispenseRequest": {                "validityPeriod": {                  "extension": [                    {                      "url": "http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression",                      "valueString": "FHIR.Period { start: FHIR.dateTime { value: Today() - 28 days }, end: FHIR.dateTime { value: Today() + 3 months } }"                    }                  ]                },                "numberOfRepeatsAllowed": 3,                "expectedSupplyDuration": {                  "value": 30.0,                  "unit": "d"                }              }            }          }        ]      }    }  }}';

    export default function createPrefetch(collector){
        return getPrefetch(collector);
    }

    function getPrefetch(collector) {
        let prefetchStr = getHeader(collector[0]);
        if (opioidLibraryNumber === 10) {
            return getPrefetch10(collector, prefetchStr);
        }
        if (opioidLibraryNumber === 11) {
            return getPrefetch11(collector, prefetchStr);
        }
    }

    function getPrefetch10(collector, prefetchStrIn){
        let prefetchStr = prefetchStrIn;
        collector.forEach(entry =>{
            console.log(entry.url);
            let entryCount3 = 0;
            let entryCount4 = 0;
            //item3 & 4
            if(entry.url.startsWith('https://launch.smarthealthit.org/v/r3/fhir/Observation?')){
                let obsBundle = JSON.stringify(entry.data);
                let obsObject = JSON.parse(obsBundle);
                let item3Entries = '';
                let item4Entries = '';
                obsObject.entry.forEach(obsObjectEntry=>{
                    if(codeInList(obsObjectEntry.resource.code.coding[0].code + ',', item3_10)){
                        entryCount3 = entryCount3 + 1;
                        item3Entries = item3Entries + JSON.stringify(obsObjectEntry) + ',';
                    }
                    if(codeInList(obsObjectEntry.resource.code.coding[0].code + ',', item4_10)){
                        entryCount4 = entryCount4 + 1;
                        item4Entries = item4Entries + JSON.stringify(obsObjectEntry) + ',';
                    }
                });
                if(entryCount3 > 0){
                    item3Entries = item3Entries.substring(0, item3Entries.length - 1);
                    prefetchStr = prefetchStr + '"item3":{"resourceType":"Bundle","entry":[' + item3Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item3":null,';
                }
                if(entryCount4 > 0){
                    item4Entries = item4Entries.substring(0, item4Entries.length - 1);
                    prefetchStr = prefetchStr + '"item4":{"resourceType":"Bundle","entry":[' + item4Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item4":null,';
                }
            }
            //item2
            if(entry.url.startsWith('https://launch.smarthealthit.org/v/r3/fhir/MedicationRequest?')){
                let medReqBundle = JSON.stringify(entry.data);
                let medReqObject = JSON.parse(medReqBundle);
                let item2Entries = '';
                let entryCount = 0;
                medReqObject.entry.forEach(medReqObjectEntry=>{
                    if(codeInList(medReqObjectEntry.resource.medicationCodeableConcept.coding[0].code + ',', item2_10)){
                        entryCount = entryCount + 1;
                        item2Entries = item2Entries + JSON.stringify(medReqObjectEntry) + ',';
                    }
                });
                if(entryCount > 0){
                    item2Entries = item2Entries.substring(0, item2Entries.length - 1);
                    prefetchStr = prefetchStr + '"item2":{"resourceType":"Bundle","entry":[' + item2Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item2":null,';
                }
            }
        })
        if(prefetchStr.charAt(prefetchStr.length - 1) === ','){
            prefetchStr = prefetchStr.substring(0, prefetchStr.length - 1);
        }
        prefetchStr = prefetchStr + '}}';//'"item4":null}}'
        //close json object
        console.log(prefetchStr);
        return prefetchStr;
    }

    // opioidcds-11-patient-view is only patient and MedicationRequests as items
    function getPrefetch11(collector, prefetchStrIn){
        let prefetchStr = prefetchStrIn;
        collector.forEach(entry =>{
            console.log(entry.url);
            let entryCount2 = 0;
            let entryCount3 = 0;
            let entryCount4 = 0;
            if(entry.url.startsWith('https://launch.smarthealthit.org/v/r3/fhir/MedicationRequest?')){
                let medReqBundle = JSON.stringify(entry.data);
                let medReqObject = JSON.parse(medReqBundle);
                let item2Entries = '';
                let item3Entries = '';
                let item4Entries = '';
                medReqObject.entry.forEach(medReqObjectEntry=>{
                    if(codeInList(medReqObjectEntry.resource.medicationCodeableConcept.coding[0].code + ',', item2_11)){
                        entryCount2 = entryCount2 + 1;
                        item2Entries = item2Entries + JSON.stringify(medReqObjectEntry) + ',';
//for 11 -- add category????
                    }
                    if(codeInList(medReqObjectEntry.resource.medicationCodeableConcept.coding[0].code + ',', item3_11)){
                        entryCount3 = entryCount3 + 1;
                        item3Entries = item3Entries + JSON.stringify(medReqObjectEntry) + ',';
                    }
                    if(codeInList(medReqObjectEntry.resource.medicationCodeableConcept.coding[0].code + ',', item4_11)){
                        entryCount4 = entryCount4 + 1;
                        item4Entries = item4Entries + JSON.stringify(medReqObjectEntry) + ',';
                    }
                });
                if(entryCount2 > 0){
                    item2Entries = item2Entries.substring(0, item2Entries.length - 1);
                    prefetchStr = prefetchStr + '"item2":{"resourceType":"Bundle","entry":[' + item2Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item2":null,';
                }
                if(entryCount3 > 0){
                    item3Entries = item3Entries.substring(0, item3Entries.length - 1);
                    prefetchStr = prefetchStr + '"item3":{"resourceType":"Bundle","entry":[' + item3Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item3":null,';
                }
                if(entryCount4 > 0){
                    item4Entries = item4Entries.substring(0, item4Entries.length - 1);
                    prefetchStr = prefetchStr + '"item4":{"resourceType":"Bundle","entry":[' + item4Entries + ']},';
                }else{
                    prefetchStr = prefetchStr + '"item4":null,';
                }
            }
            //item2
        })
        if(prefetchStr.charAt(prefetchStr.length - 1) === ','){
            prefetchStr = prefetchStr.substring(0, prefetchStr.length - 1);
        }
        prefetchStr = prefetchStr + '}}';//'"item4":null}}'
        //close json object
        console.log(prefetchStr);
        return prefetchStr;
    }

    function getHeader(pt){
        let uuid = uuidv4();
        let prefetchStr =  '{"hookInstance": "' + uuid + '","fhirServer": "http://localhost:8080/cqf-ruler-dstu3/fhir","hook": "patient-view","applyCql": true,"context": {"userId": "Practitioner/PainManager","patientId": "';
        return prefetchStr + pt.url + '"}, "prefetch": {"item1":' + JSON.stringify(pt.data) + ",";
    }

    function uuidv4() {
        return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
            // eslint-disable-next-line
            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
        );
    }

    function codeInList(codeItem, whichList){
        if (whichList.indexOf(codeItem) > -1){
            return true;
        };
        return false;
    }
