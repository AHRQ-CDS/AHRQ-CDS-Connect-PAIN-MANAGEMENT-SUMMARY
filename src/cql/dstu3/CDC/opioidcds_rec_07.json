{
	"library": {
		"identifier": {
			"id": "OpioidCDS_REC_07",
			"version": "1.1.1"
		},
		"schemaIdentifier": {
			"id": "urn:hl7-org:elm",
			"version": "r1"
		},
		"usings": {
			"def": [
				{
					"localIdentifier": "System",
					"uri": "urn:hl7-org:elm-types:r1"
				},
				{
					"localId": "1",
					"locator": "3:1-3:26",
					"localIdentifier": "FHIR",
					"uri": "http://hl7.org/fhir",
					"version": "3.0.0"
				}
			]
		},
		"includes": {
			"def": [
				{
					"localId": "2",
					"locator": "5:1-5:54",
					"localIdentifier": "FHIRHelpers",
					"path": "FHIRHelpers",
					"version": "3.0.0"
				},
				{
					"localId": "3",
					"locator": "6:1-6:54",
					"localIdentifier": "Common",
					"path": "OpioidCDS_Common",
					"version": "1.1.1"
				}
			]
		},
		"parameters": {
			"def": [
				{
					"localId": "6",
					"locator": "46:1-46:54",
					"name": "ContextPrescriptions",
					"accessLevel": "Public",
					"parameterTypeSpecifier": {
						"localId": "5",
						"locator": "46:32-46:54",
						"type": "ListTypeSpecifier",
						"elementType": {
							"localId": "4",
							"locator": "46:37-46:53",
							"name": "{http://hl7.org/fhir}MedicationRequest",
							"type": "NamedTypeSpecifier"
						}
					}
				}
			]
		},
		"statements": {
			"def": [
				{
					"locator": "48:1-48:15",
					"name": "Patient",
					"context": "Patient",
					"expression": {
						"type": "SingletonFrom",
						"operand": {
							"locator": "48:1-48:15",
							"dataType": "{http://hl7.org/fhir}Patient",
							"type": "Retrieve"
						}
					}
				},
				{
					"localId": "14",
					"locator": "50:1-51:46",
					"name": "Risk Assessment Interval",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "14",
								"s": [
									{
										"value": [
											"define ",
											"\"Risk Assessment Interval\"",
											":\n  "
										]
									},
									{
										"r": "13",
										"s": [
											{
												"value": [
													"Interval["
												]
											},
											{
												"r": "9",
												"s": [
													{
														"r": "7",
														"s": [
															{
																"value": [
																	"Today",
																	"()"
																]
															}
														]
													},
													{
														"value": [
															" - "
														]
													},
													{
														"r": "8",
														"s": [
															{
																"value": [
																	"91 ",
																	"days"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													", "
												]
											},
											{
												"r": "12",
												"s": [
													{
														"r": "10",
														"s": [
															{
																"value": [
																	"Today",
																	"()"
																]
															}
														]
													},
													{
														"value": [
															" - "
														]
													},
													{
														"r": "11",
														"s": [
															{
																"value": [
																	"1 ",
																	"day"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													"]"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "13",
						"locator": "51:3-51:46",
						"lowClosed": true,
						"highClosed": true,
						"type": "Interval",
						"low": {
							"localId": "9",
							"locator": "51:12-51:28",
							"type": "Subtract",
							"operand": [
								{
									"localId": "7",
									"locator": "51:12-51:18",
									"type": "Today"
								},
								{
									"localId": "8",
									"locator": "51:22-51:28",
									"value": 91,
									"unit": "days",
									"type": "Quantity"
								}
							]
						},
						"high": {
							"localId": "12",
							"locator": "51:31-51:45",
							"type": "Subtract",
							"operand": [
								{
									"localId": "10",
									"locator": "51:31-51:37",
									"type": "Today"
								},
								{
									"localId": "11",
									"locator": "51:41-51:45",
									"value": 1,
									"unit": "day",
									"type": "Quantity"
								}
							]
						}
					}
				},
				{
					"localId": "24",
					"locator": "53:1-54:57",
					"name": "Encounter Interval",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "24",
								"s": [
									{
										"value": [
											"define ",
											"\"Encounter Interval\"",
											":\n  "
										]
									},
									{
										"r": "23",
										"s": [
											{
												"value": [
													"Interval["
												]
											},
											{
												"r": "19",
												"s": [
													{
														"r": "17",
														"s": [
															{
																"r": "15",
																"s": [
																	{
																		"value": [
																			"Today",
																			"()"
																		]
																	}
																]
															},
															{
																"value": [
																	" - "
																]
															},
															{
																"r": "16",
																"s": [
																	{
																		"value": [
																			"12 ",
																			"months"
																		]
																	}
																]
															}
														]
													},
													{
														"value": [
															" - "
														]
													},
													{
														"r": "18",
														"s": [
															{
																"value": [
																	"1 ",
																	"days"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													", "
												]
											},
											{
												"r": "22",
												"s": [
													{
														"r": "20",
														"s": [
															{
																"value": [
																	"Today",
																	"()"
																]
															}
														]
													},
													{
														"value": [
															" - "
														]
													},
													{
														"r": "21",
														"s": [
															{
																"value": [
																	"1 ",
																	"day"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													"]"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "23",
						"locator": "54:3-54:57",
						"lowClosed": true,
						"highClosed": true,
						"type": "Interval",
						"low": {
							"localId": "19",
							"locator": "54:12-54:39",
							"type": "Subtract",
							"operand": [
								{
									"localId": "17",
									"locator": "54:12-54:30",
									"type": "Subtract",
									"operand": [
										{
											"localId": "15",
											"locator": "54:12-54:18",
											"type": "Today"
										},
										{
											"localId": "16",
											"locator": "54:22-54:30",
											"value": 12,
											"unit": "months",
											"type": "Quantity"
										}
									]
								},
								{
									"localId": "18",
									"locator": "54:34-54:39",
									"value": 1,
									"unit": "days",
									"type": "Quantity"
								}
							]
						},
						"high": {
							"localId": "22",
							"locator": "54:42-54:56",
							"type": "Subtract",
							"operand": [
								{
									"localId": "20",
									"locator": "54:42-54:48",
									"type": "Today"
								},
								{
									"localId": "21",
									"locator": "54:52-54:56",
									"value": 1,
									"unit": "day",
									"type": "Quantity"
								}
							]
						}
					}
				},
				{
					"localId": "34",
					"locator": "56:1-60:3",
					"name": "Validate Trigger Event",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "34",
								"s": [
									{
										"value": [
											"define ",
											"\"Validate Trigger Event\"",
											":\n  "
										]
									},
									{
										"r": "33",
										"s": [
											{
												"value": [
													"exists"
												]
											},
											{
												"r": "32",
												"s": [
													{
														"value": [
															"(\n    "
														]
													},
													{
														"r": "32",
														"s": [
															{
																"s": [
																	{
																		"r": "26",
																		"s": [
																			{
																				"r": "25",
																				"s": [
																					{
																						"s": [
																							{
																								"value": [
																									"ContextPrescriptions"
																								]
																							}
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					" ",
																					"triggerScript"
																				]
																			}
																		]
																	}
																]
															},
															{
																"value": [
																	"\n      "
																]
															},
															{
																"r": "31",
																"s": [
																	{
																		"value": [
																			"where "
																		]
																	},
																	{
																		"r": "31",
																		"s": [
																			{
																				"r": "28",
																				"s": [
																					{
																						"r": "27",
																						"s": [
																							{
																								"value": [
																									"triggerScript"
																								]
																							}
																						]
																					},
																					{
																						"value": [
																							"."
																						]
																					},
																					{
																						"r": "28",
																						"s": [
																							{
																								"value": [
																									"medication"
																								]
																							}
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					" in "
																				]
																			},
																			{
																				"r": "30",
																				"s": [
																					{
																						"r": "29",
																						"s": [
																							{
																								"value": [
																									"Common"
																								]
																							}
																						]
																					},
																					{
																						"value": [
																							"."
																						]
																					},
																					{
																						"r": "30",
																						"s": [
																							{
																								"value": [
																									"\"Ambulatory Abuse Potential Opioids\""
																								]
																							}
																						]
																					}
																				]
																			}
																		]
																	}
																]
															}
														]
													},
													{
														"value": [
															"\n  )"
														]
													}
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "33",
						"locator": "57:3-60:3",
						"type": "Exists",
						"operand": {
							"localId": "32",
							"locator": "57:9-60:3",
							"type": "Query",
							"source": [
								{
									"localId": "26",
									"locator": "58:5-58:38",
									"alias": "triggerScript",
									"expression": {
										"localId": "25",
										"locator": "58:5-58:24",
										"name": "ContextPrescriptions",
										"type": "ParameterRef"
									}
								}
							],
							"relationship": [],
							"where": {
								"localId": "31",
								"locator": "59:7-59:83",
								"type": "InValueSet",
								"code": {
									"name": "ToConcept",
									"libraryName": "FHIRHelpers",
									"type": "FunctionRef",
									"operand": [
										{
											"asType": "{http://hl7.org/fhir}CodeableConcept",
											"type": "As",
											"operand": {
												"localId": "28",
												"locator": "59:13-59:36",
												"path": "medication",
												"scope": "triggerScript",
												"type": "Property"
											}
										}
									]
								},
								"valueset": {
									"localId": "30",
									"locator": "59:41-59:83",
									"name": "Ambulatory Abuse Potential Opioids",
									"libraryName": "Common"
								}
							}
						}
					}
				},
				{
					"localId": "42",
					"locator": "69:1-70:33",
					"name": "Exclusion Criteria",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "42",
								"s": [
									{
										"value": [
											"define ",
											"\"Exclusion Criteria\"",
											":\n  "
										]
									},
									{
										"r": "41",
										"s": [
											{
												"r": "40",
												"s": [
													{
														"value": [
															"Common"
														]
													}
												]
											},
											{
												"value": [
													"."
												]
											},
											{
												"r": "41",
												"s": [
													{
														"value": [
															"\"End of Life Assessment\""
														]
													}
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "41",
						"locator": "70:3-70:33",
						"name": "End of Life Assessment",
						"libraryName": "Common",
						"type": "ExpressionRef"
					}
				},
				{
					"localId": "56",
					"locator": "72:1-74:95",
					"name": "Opioid Risk Assessment in Past 90 Days",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "56",
								"s": [
									{
										"value": [
											"define ",
											"\"Opioid Risk Assessment in Past 90 Days\"",
											":\n  "
										]
									},
									{
										"r": "55",
										"s": [
											{
												"s": [
													{
														"r": "47",
														"s": [
															{
																"r": "46",
																"s": [
																	{
																		"r": "46",
																		"s": [
																			{
																				"value": [
																					"[",
																					"Procedure",
																					": "
																				]
																			},
																			{
																				"s": [
																					{
																						"value": [
																							"Common",
																							".",
																							"\"Risk Assessment\""
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					"]"
																				]
																			}
																		]
																	}
																]
															},
															{
																"value": [
																	" ",
																	"riskAssessment"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													"\n    "
												]
											},
											{
												"r": "54",
												"s": [
													{
														"value": [
															"where "
														]
													},
													{
														"r": "54",
														"s": [
															{
																"r": "52",
																"s": [
																	{
																		"value": [
																			"date from "
																		]
																	},
																	{
																		"r": "51",
																		"s": [
																			{
																				"r": "50",
																				"s": [
																					{
																						"r": "49",
																						"s": [
																							{
																								"r": "48",
																								"s": [
																									{
																										"value": [
																											"riskAssessment"
																										]
																									}
																								]
																							},
																							{
																								"value": [
																									"."
																								]
																							},
																							{
																								"r": "49",
																								"s": [
																									{
																										"value": [
																											"performed"
																										]
																									}
																								]
																							}
																						]
																					},
																					{
																						"value": [
																							"."
																						]
																					},
																					{
																						"r": "50",
																						"s": [
																							{
																								"value": [
																									"\"start\""
																								]
																							}
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					"."
																				]
																			},
																			{
																				"r": "51",
																				"s": [
																					{
																						"value": [
																							"value"
																						]
																					}
																				]
																			}
																		]
																	}
																]
															},
															{
																"value": [
																	" in day of "
																]
															},
															{
																"r": "53",
																"s": [
																	{
																		"value": [
																			"\"Risk Assessment Interval\""
																		]
																	}
																]
															}
														]
													}
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "55",
						"locator": "73:3-74:95",
						"type": "Query",
						"source": [
							{
								"localId": "47",
								"locator": "73:3-73:54",
								"alias": "riskAssessment",
								"expression": {
									"localId": "46",
									"locator": "73:3-73:39",
									"dataType": "{http://hl7.org/fhir}Procedure",
									"codeProperty": "code",
									"type": "Retrieve",
									"codes": {
										"locator": "73:15-73:38",
										"name": "Risk Assessment",
										"libraryName": "Common",
										"type": "ValueSetRef"
									}
								}
							}
						],
						"relationship": [],
						"where": {
							"localId": "54",
							"locator": "74:5-74:95",
							"precision": "Day",
							"type": "In",
							"operand": [
								{
									"localId": "52",
									"locator": "74:11-74:58",
									"type": "DateFrom",
									"operand": {
										"localId": "51",
										"locator": "74:21-74:58",
										"path": "value",
										"type": "Property",
										"source": {
											"localId": "50",
											"locator": "74:21-74:52",
											"path": "start",
											"type": "Property",
											"source": {
												"localId": "49",
												"locator": "74:21-74:44",
												"path": "performed",
												"scope": "riskAssessment",
												"type": "Property"
											}
										}
									}
								},
								{
									"localId": "53",
									"locator": "74:70-74:95",
									"name": "Risk Assessment Interval",
									"type": "ExpressionRef"
								}
							]
						}
					}
				},
				{
					"localId": "80",
					"locator": "76:1-81:5",
					"name": "Rx Active 7 of Past 10 Days With Encounter",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "80",
								"s": [
									{
										"value": [
											"define ",
											"\"Rx Active 7 of Past 10 Days With Encounter\"",
											":\n  "
										]
									},
									{
										"r": "79",
										"s": [
											{
												"r": "67",
												"s": [
													{
														"value": [
															"AnyTrue",
															"("
														]
													},
													{
														"r": "66",
														"s": [
															{
																"r": "61",
																"s": [
																	{
																		"value": [
																			"Common"
																		]
																	}
																]
															},
															{
																"value": [
																	"."
																]
															},
															{
																"r": "66",
																"s": [
																	{
																		"value": [
																			"ProbableDaysInRange",
																			"("
																		]
																	},
																	{
																		"r": "63",
																		"s": [
																			{
																				"r": "62",
																				"s": [
																					{
																						"value": [
																							"Common"
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					"."
																				]
																			},
																			{
																				"r": "63",
																				"s": [
																					{
																						"value": [
																							"\"Active Ambulatory Opioid Rx\""
																						]
																					}
																				]
																			}
																		]
																	},
																	{
																		"r": "64",
																		"value": [
																			", ",
																			"10",
																			", ",
																			"7",
																			")"
																		]
																	}
																]
															}
														]
													},
													{
														"value": [
															")"
														]
													}
												]
											},
											{
												"value": [
													"\n    and "
												]
											},
											{
												"r": "78",
												"s": [
													{
														"value": [
															"exists"
														]
													},
													{
														"r": "77",
														"s": [
															{
																"value": [
																	"(\n      "
																]
															},
															{
																"r": "77",
																"s": [
																	{
																		"s": [
																			{
																				"r": "69",
																				"s": [
																					{
																						"r": "68",
																						"s": [
																							{
																								"r": "68",
																								"s": [
																									{
																										"value": [
																											"[",
																											"Encounter",
																											"]"
																										]
																									}
																								]
																							}
																						]
																					},
																					{
																						"value": [
																							" ",
																							"E"
																						]
																					}
																				]
																			}
																		]
																	},
																	{
																		"value": [
																			"\n        "
																		]
																	},
																	{
																		"r": "76",
																		"s": [
																			{
																				"value": [
																					"where "
																				]
																			},
																			{
																				"r": "76",
																				"s": [
																					{
																						"r": "74",
																						"s": [
																							{
																								"value": [
																									"date from "
																								]
																							},
																							{
																								"r": "73",
																								"s": [
																									{
																										"r": "72",
																										"s": [
																											{
																												"r": "71",
																												"s": [
																													{
																														"r": "70",
																														"s": [
																															{
																																"value": [
																																	"E"
																																]
																															}
																														]
																													},
																													{
																														"value": [
																															"."
																														]
																													},
																													{
																														"r": "71",
																														"s": [
																															{
																																"value": [
																																	"period"
																																]
																															}
																														]
																													}
																												]
																											},
																											{
																												"value": [
																													"."
																												]
																											},
																											{
																												"r": "72",
																												"s": [
																													{
																														"value": [
																															"\"start\""
																														]
																													}
																												]
																											}
																										]
																									},
																									{
																										"value": [
																											"."
																										]
																									},
																									{
																										"r": "73",
																										"s": [
																											{
																												"value": [
																													"value"
																												]
																											}
																										]
																									}
																								]
																							}
																						]
																					},
																					{
																						"value": [
																							" in day of "
																						]
																					},
																					{
																						"r": "75",
																						"s": [
																							{
																								"value": [
																									"\"Encounter Interval\""
																								]
																							}
																						]
																					}
																				]
																			}
																		]
																	}
																]
															},
															{
																"value": [
																	"\n    )"
																]
															}
														]
													}
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "79",
						"locator": "77:3-81:5",
						"type": "And",
						"operand": [
							{
								"localId": "67",
								"locator": "77:3-77:82",
								"type": "AnyTrue",
								"source": {
									"localId": "66",
									"locator": "77:11-77:81",
									"name": "ProbableDaysInRange",
									"libraryName": "Common",
									"type": "FunctionRef",
									"operand": [
										{
											"localId": "63",
											"locator": "77:38-77:73",
											"name": "Active Ambulatory Opioid Rx",
											"libraryName": "Common",
											"type": "ExpressionRef"
										},
										{
											"localId": "64",
											"locator": "77:76-77:77",
											"valueType": "{urn:hl7-org:elm-types:r1}Integer",
											"value": "10",
											"type": "Literal"
										},
										{
											"localId": "65",
											"locator": "77:80",
											"valueType": "{urn:hl7-org:elm-types:r1}Integer",
											"value": "7",
											"type": "Literal"
										}
									]
								}
							},
							{
								"localId": "78",
								"locator": "78:9-81:5",
								"type": "Exists",
								"operand": {
									"localId": "77",
									"locator": "78:15-81:5",
									"type": "Query",
									"source": [
										{
											"localId": "69",
											"locator": "79:7-79:19",
											"alias": "E",
											"expression": {
												"localId": "68",
												"locator": "79:7-79:17",
												"dataType": "{http://hl7.org/fhir}Encounter",
												"type": "Retrieve"
											}
										}
									],
									"relationship": [],
									"where": {
										"localId": "76",
										"locator": "80:9-80:77",
										"precision": "Day",
										"type": "In",
										"operand": [
											{
												"localId": "74",
												"locator": "80:15-80:46",
												"type": "DateFrom",
												"operand": {
													"localId": "73",
													"locator": "80:25-80:46",
													"path": "value",
													"type": "Property",
													"source": {
														"localId": "72",
														"locator": "80:25-80:40",
														"path": "start",
														"type": "Property",
														"source": {
															"localId": "71",
															"locator": "80:25-80:32",
															"path": "period",
															"scope": "E",
															"type": "Property"
														}
													}
												}
											},
											{
												"localId": "75",
												"locator": "80:58-80:77",
												"name": "Encounter Interval",
												"type": "ExpressionRef"
											}
										]
									}
								}
							}
						]
					}
				},
				{
					"localId": "89",
					"locator": "83:1-84:83",
					"name": "Rx Active 63 of Past 90 Days",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "89",
								"s": [
									{
										"value": [
											"define ",
											"\"Rx Active 63 of Past 90 Days\"",
											":\n  "
										]
									},
									{
										"r": "88",
										"s": [
											{
												"value": [
													"AnyTrue",
													"("
												]
											},
											{
												"r": "87",
												"s": [
													{
														"r": "82",
														"s": [
															{
																"value": [
																	"Common"
																]
															}
														]
													},
													{
														"value": [
															"."
														]
													},
													{
														"r": "87",
														"s": [
															{
																"value": [
																	"ProbableDaysInRange",
																	"("
																]
															},
															{
																"r": "84",
																"s": [
																	{
																		"r": "83",
																		"s": [
																			{
																				"value": [
																					"Common"
																				]
																			}
																		]
																	},
																	{
																		"value": [
																			"."
																		]
																	},
																	{
																		"r": "84",
																		"s": [
																			{
																				"value": [
																					"\"Active Ambulatory Opioid Rx\""
																				]
																			}
																		]
																	}
																]
															},
															{
																"r": "85",
																"value": [
																	", ",
																	"90",
																	", ",
																	"63",
																	")"
																]
															}
														]
													}
												]
											},
											{
												"value": [
													")"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "88",
						"locator": "84:3-84:83",
						"type": "AnyTrue",
						"source": {
							"localId": "87",
							"locator": "84:11-84:82",
							"name": "ProbableDaysInRange",
							"libraryName": "Common",
							"type": "FunctionRef",
							"operand": [
								{
									"localId": "84",
									"locator": "84:38-84:73",
									"name": "Active Ambulatory Opioid Rx",
									"libraryName": "Common",
									"type": "ExpressionRef"
								},
								{
									"localId": "85",
									"locator": "84:76-84:77",
									"valueType": "{urn:hl7-org:elm-types:r1}Integer",
									"value": "90",
									"type": "Literal"
								},
								{
									"localId": "86",
									"locator": "84:80-84:81",
									"valueType": "{urn:hl7-org:elm-types:r1}Integer",
									"value": "63",
									"type": "Literal"
								}
							]
						}
					}
				},
				{
					"localId": "93",
					"locator": "62:1-67:90",
					"name": "Inclusion Criteria",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "93",
								"s": [
									{
										"value": [
											"define ",
											"\"Inclusion Criteria\"",
											":\n  "
										]
									},
									{
										"r": "92",
										"s": [
											{
												"r": "60",
												"s": [
													{
														"r": "45",
														"s": [
															{
																"r": "39",
																"s": [
																	{
																		"r": "37",
																		"s": [
																			{
																				"r": "35",
																				"s": [
																					{
																						"value": [
																							"AgeInYears",
																							"()"
																						]
																					}
																				]
																			},
																			{
																				"r": "36",
																				"value": [
																					" ",
																					">=",
																					" ",
																					"18"
																				]
																			}
																		]
																	},
																	{
																		"value": [
																			"\n    and "
																		]
																	},
																	{
																		"r": "38",
																		"s": [
																			{
																				"value": [
																					"\"Validate Trigger Event\""
																				]
																			}
																		]
																	}
																]
															},
															{
																"value": [
																	"\n    and "
																]
															},
															{
																"r": "44",
																"s": [
																	{
																		"value": [
																			"not "
																		]
																	},
																	{
																		"r": "43",
																		"s": [
																			{
																				"value": [
																					"\"Exclusion Criteria\""
																				]
																			}
																		]
																	}
																]
															}
														]
													},
													{
														"value": [
															"\n    and "
														]
													},
													{
														"r": "59",
														"s": [
															{
																"value": [
																	"not "
																]
															},
															{
																"r": "58",
																"s": [
																	{
																		"value": [
																			"exists "
																		]
																	},
																	{
																		"r": "57",
																		"s": [
																			{
																				"value": [
																					"( "
																				]
																			},
																			{
																				"r": "57",
																				"s": [
																					{
																						"value": [
																							"\"Opioid Risk Assessment in Past 90 Days\""
																						]
																					}
																				]
																			},
																			{
																				"value": [
																					" )"
																				]
																			}
																		]
																	}
																]
															}
														]
													}
												]
											},
											{
												"value": [
													"\n    and "
												]
											},
											{
												"r": "91",
												"s": [
													{
														"value": [
															"( "
														]
													},
													{
														"r": "91",
														"s": [
															{
																"r": "81",
																"s": [
																	{
																		"value": [
																			"\"Rx Active 7 of Past 10 Days With Encounter\""
																		]
																	}
																]
															},
															{
																"value": [
																	" or "
																]
															},
															{
																"r": "90",
																"s": [
																	{
																		"value": [
																			"\"Rx Active 63 of Past 90 Days\""
																		]
																	}
																]
															}
														]
													},
													{
														"value": [
															" )"
														]
													}
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "92",
						"locator": "63:3-67:90",
						"type": "And",
						"operand": [
							{
								"localId": "60",
								"locator": "63:3-66:63",
								"type": "And",
								"operand": [
									{
										"localId": "45",
										"locator": "63:3-65:32",
										"type": "And",
										"operand": [
											{
												"localId": "39",
												"locator": "63:3-64:32",
												"type": "And",
												"operand": [
													{
														"localId": "37",
														"locator": "63:3-63:20",
														"type": "GreaterOrEqual",
														"operand": [
															{
																"localId": "35",
																"locator": "63:3-63:14",
																"precision": "Year",
																"type": "CalculateAge",
																"operand": {
																	"path": "birthDate.value",
																	"type": "Property",
																	"source": {
																		"name": "Patient",
																		"type": "ExpressionRef"
																	}
																}
															},
															{
																"localId": "36",
																"locator": "63:19-63:20",
																"valueType": "{urn:hl7-org:elm-types:r1}Integer",
																"value": "18",
																"type": "Literal"
															}
														]
													},
													{
														"localId": "38",
														"locator": "64:9-64:32",
														"name": "Validate Trigger Event",
														"type": "ExpressionRef"
													}
												]
											},
											{
												"localId": "44",
												"locator": "65:9-65:32",
												"type": "Not",
												"operand": {
													"localId": "43",
													"locator": "65:13-65:32",
													"name": "Exclusion Criteria",
													"type": "ExpressionRef"
												}
											}
										]
									},
									{
										"localId": "59",
										"locator": "66:9-66:63",
										"type": "Not",
										"operand": {
											"localId": "58",
											"locator": "66:13-66:63",
											"type": "Exists",
											"operand": {
												"localId": "57",
												"locator": "66:20-66:63",
												"name": "Opioid Risk Assessment in Past 90 Days",
												"type": "ExpressionRef"
											}
										}
									}
								]
							},
							{
								"localId": "91",
								"locator": "67:9-67:90",
								"type": "Or",
								"operand": [
									{
										"localId": "81",
										"locator": "67:11-67:54",
										"name": "Rx Active 7 of Past 10 Days With Encounter",
										"type": "ExpressionRef"
									},
									{
										"localId": "90",
										"locator": "67:59-67:88",
										"name": "Rx Active 63 of Past 90 Days",
										"type": "ExpressionRef"
									}
								]
							}
						]
					}
				},
				{
					"localId": "98",
					"locator": "86:1-89:11",
					"name": "Get Indicator",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "98",
								"s": [
									{
										"value": [
											"define ",
											"\"Get Indicator\"",
											":\n  "
										]
									},
									{
										"r": "97",
										"s": [
											{
												"value": [
													"if "
												]
											},
											{
												"r": "94",
												"s": [
													{
														"value": [
															"\"Inclusion Criteria\""
														]
													}
												]
											},
											{
												"value": [
													"\n    then "
												]
											},
											{
												"r": "95",
												"s": [
													{
														"value": [
															"'warning'"
														]
													}
												]
											},
											{
												"r": "96",
												"value": [
													"\n  else ",
													"null"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "97",
						"locator": "87:3-89:11",
						"type": "If",
						"condition": {
							"asType": "{urn:hl7-org:elm-types:r1}Boolean",
							"type": "As",
							"operand": {
								"localId": "94",
								"locator": "87:6-87:25",
								"name": "Inclusion Criteria",
								"type": "ExpressionRef"
							}
						},
						"then": {
							"localId": "95",
							"locator": "88:10-88:18",
							"valueType": "{urn:hl7-org:elm-types:r1}String",
							"value": "warning",
							"type": "Literal"
						},
						"else": {
							"asType": "{urn:hl7-org:elm-types:r1}String",
							"type": "As",
							"operand": {
								"localId": "96",
								"locator": "89:8-89:11",
								"type": "Null"
							}
						}
					}
				},
				{
					"localId": "103",
					"locator": "91:1-94:11",
					"name": "Get Summary",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "103",
								"s": [
									{
										"value": [
											"define ",
											"\"Get Summary\"",
											":\n  "
										]
									},
									{
										"r": "102",
										"s": [
											{
												"value": [
													"if "
												]
											},
											{
												"r": "99",
												"s": [
													{
														"value": [
															"\"Inclusion Criteria\""
														]
													}
												]
											},
											{
												"value": [
													"\n    then "
												]
											},
											{
												"r": "100",
												"s": [
													{
														"value": [
															"'Patients on opioid therapy should be evaluated for benefits and harms within 1 to 4 weeks of starting opioid therapy and every 3 months or more subsequently.'"
														]
													}
												]
											},
											{
												"r": "101",
												"value": [
													"\n  else ",
													"null"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "102",
						"locator": "92:3-94:11",
						"type": "If",
						"condition": {
							"asType": "{urn:hl7-org:elm-types:r1}Boolean",
							"type": "As",
							"operand": {
								"localId": "99",
								"locator": "92:6-92:25",
								"name": "Inclusion Criteria",
								"type": "ExpressionRef"
							}
						},
						"then": {
							"localId": "100",
							"locator": "93:10-93:168",
							"valueType": "{urn:hl7-org:elm-types:r1}String",
							"value": "Patients on opioid therapy should be evaluated for benefits and harms within 1 to 4 weeks of starting opioid therapy and every 3 months or more subsequently.",
							"type": "Literal"
						},
						"else": {
							"asType": "{urn:hl7-org:elm-types:r1}String",
							"type": "As",
							"operand": {
								"localId": "101",
								"locator": "94:8-94:11",
								"type": "Null"
							}
						}
					}
				},
				{
					"localId": "111",
					"locator": "96:1-102:11",
					"name": "Get Detail",
					"context": "Patient",
					"accessLevel": "Public",
					"annotation": [
						{
							"type": "Annotation",
							"s": {
								"r": "111",
								"s": [
									{
										"value": [
											"define ",
											"\"Get Detail\"",
											":\n  "
										]
									},
									{
										"r": "110",
										"s": [
											{
												"value": [
													"if "
												]
											},
											{
												"r": "104",
												"s": [
													{
														"value": [
															"\"Inclusion Criteria\""
														]
													}
												]
											},
											{
												"value": [
													"\n    then\n      "
												]
											},
											{
												"r": "108",
												"s": [
													{
														"value": [
															"if "
														]
													},
													{
														"r": "105",
														"s": [
															{
																"value": [
																	"\"Rx Active 63 of Past 90 Days\""
																]
															}
														]
													},
													{
														"value": [
															"\n        then "
														]
													},
													{
														"r": "106",
														"s": [
															{
																"value": [
																	"'No evaluation for benefits and harms associated with opioid therapy has been performed for the patient in the past 3 months'"
																]
															}
														]
													},
													{
														"value": [
															"\n      else "
														]
													},
													{
														"r": "107",
														"s": [
															{
																"value": [
																	"'No evaluation for benefits and harms has been performed for the patient starting opioid therapy'"
																]
															}
														]
													}
												]
											},
											{
												"r": "109",
												"value": [
													"\n  else ",
													"null"
												]
											}
										]
									}
								]
							}
						}
					],
					"expression": {
						"localId": "110",
						"locator": "97:3-102:11",
						"type": "If",
						"condition": {
							"asType": "{urn:hl7-org:elm-types:r1}Boolean",
							"type": "As",
							"operand": {
								"localId": "104",
								"locator": "97:6-97:25",
								"name": "Inclusion Criteria",
								"type": "ExpressionRef"
							}
						},
						"then": {
							"localId": "108",
							"locator": "99:7-101:108",
							"type": "If",
							"condition": {
								"asType": "{urn:hl7-org:elm-types:r1}Boolean",
								"type": "As",
								"operand": {
									"localId": "105",
									"locator": "99:10-99:39",
									"name": "Rx Active 63 of Past 90 Days",
									"type": "ExpressionRef"
								}
							},
							"then": {
								"localId": "106",
								"locator": "100:14-100:138",
								"valueType": "{urn:hl7-org:elm-types:r1}String",
								"value": "No evaluation for benefits and harms associated with opioid therapy has been performed for the patient in the past 3 months",
								"type": "Literal"
							},
							"else": {
								"localId": "107",
								"locator": "101:12-101:108",
								"valueType": "{urn:hl7-org:elm-types:r1}String",
								"value": "No evaluation for benefits and harms has been performed for the patient starting opioid therapy",
								"type": "Literal"
							}
						},
						"else": {
							"asType": "{urn:hl7-org:elm-types:r1}String",
							"type": "As",
							"operand": {
								"localId": "109",
								"locator": "102:8-102:11",
								"type": "Null"
							}
						}
					}
				}
			]
		}
	}
}