(this["webpackJsonppain-management-factors"]=this["webpackJsonppain-management-factors"]||[]).push([[0],{108:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},109:function(e,t){e.exports=!1},110:function(e,t,r){var n=r(135),o=r(136);e.exports=function(e){return n(o(e))}},111:function(e,t,r){var n=r(323),o=r(23),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},124:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},125:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},126:function(e,t,r){e.exports=r(268)},132:function(e,t,r){"use strict";var n=(new(r(539).default)).getSmartApi(),o=n.ready,i=n.authorize,a=n.init,s=n.client,u=n.options;if("undefined"==typeof FHIRCLIENT_PURE){var c=r(177);r(561),window.fetch||(window.fetch=c.default,window.Headers=c.Headers,window.Request=c.Request,window.Response=c.Response)}var f={AbortController:window.AbortController,client:s,oauth2:{settings:u,ready:o,authorize:i,init:a}};e.exports=f},135:function(e,t,r){var n=r(36),o=r(73),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},136:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},137:function(e,t,r){var n=r(23),o=r(53);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},138:function(e,t,r){var n=r(23),o=r(60),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},139:function(e,t,r){var n=r(60);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},140:function(e,t,r){var n,o=r(55),i=r(219),a=r(142),s=r(141),u=r(222),c=r(138),f=r(143),l=f("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}d=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}();for(var e=a.length;e--;)delete d.prototype[a[e]];return d()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=o(e),r=new p,p.prototype=null,r[l]=e):r=d(),void 0===t?r:i(r,t)}},141:function(e,t){e.exports={}},142:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},143:function(e,t,r){var n=r(212),o=r(215),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},144:function(e,t,r){var n=r(54),o=r(225),i=r(90),a=r(110),s=r(139),u=r(29),c=r(214),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=a(e),t=s(t,!0),c)try{return f(e,t)}catch(r){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},175:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientCompartment=["Account","AdverseEvent","AllergyIntolerance","Appointment","AppointmentResponse","AuditEvent","Basic","BodySite","BodyStructure","CarePlan","CareTeam","ChargeItem","Claim","ClaimResponse","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Consent","Coverage","CoverageEligibilityRequest","CoverageEligibilityResponse","DetectedIssue","DeviceRequest","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","EligibilityRequest","Encounter","EnrollmentRequest","EpisodeOfCare","ExplanationOfBenefit","FamilyMemberHistory","Flag","Goal","Group","ImagingManifest","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationEvaluation","ImmunizationRecommendation","Invoice","List","MeasureReport","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationRequest","MedicationStatement","MolecularSequence","NutritionOrder","Observation","Order","Patient","Person","Procedure","ProcedureRequest","Provenance","QuestionnaireResponse","ReferralRequest","RelatedPerson","RequestGroup","ResearchSubject","RiskAssessment","Schedule","ServiceRequest","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"],t.fhirVersions={"0.4.0":2,"0.5.0":2,"1.0.0":2,"1.0.1":2,"1.0.2":2,"1.1.0":3,"1.4.0":3,"1.6.0":3,"1.8.0":3,"3.0.0":3,"3.0.1":3,"3.3.0":4,"3.5.0":4,"4.0.0":4,"4.0.1":4},t.patientParams=["patient","subject","requester","member","actor","beneficiary"],t.SMART_KEY="SMART_KEY"},177:function(e,t){var r=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!==typeof self?self:this);!function(e){!function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!==typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function l(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=i(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=a(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),s(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),s(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=function(e){var t=e.toUpperCase();return d.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function g(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},h.call(y.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];b.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,n){return new Promise((function(o,i){var a=new y(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:g(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;o(new b(t,e))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}w.polyfill=!0,e.fetch||(e.fetch=w,e.Headers=u,e.Request=y,e.Response=b),t.Headers=u,t.Request=y,t.Response=b,t.fetch=w}({})}(r),delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},210:function(e,t,r){var n=r(60),o=r(211),i=r(28)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},211:function(e,t,r){var n=r(73);e.exports=Array.isArray||function(e){return"Array"==n(e)}},212:function(e,t,r){var n=r(109),o=r(213);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},213:function(e,t,r){var n=r(23),o=r(137),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},214:function(e,t,r){var n=r(54),o=r(36),i=r(138);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},215:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},216:function(e,t,r){var n=r(36);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},218:function(e,t,r){var n=r(28),o=r(140),i=r(74),a=n("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},219:function(e,t,r){var n=r(54),o=r(74),i=r(55),a=r(220);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),s=n.length,u=0;s>u;)o.f(e,r=n[u++],t[r]);return e}},220:function(e,t,r){var n=r(221),o=r(142);e.exports=Object.keys||function(e){return n(e,o)}},221:function(e,t,r){var n=r(29),o=r(110),i=r(321).indexOf,a=r(141);e.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},222:function(e,t,r){var n=r(111);e.exports=n("document","documentElement")},223:function(e,t,r){var n=r(213),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},225:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},226:function(e,t){t.f=Object.getOwnPropertySymbols},23:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(35))},268:function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?h:l,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var f="suspendedStart",l="suspendedYield",p="executing",h="completed",d={};function y(){}function v(){}function g(){}var b={};b[i]=function(){return this};var m=Object.getPrototypeOf,w=m&&m(m(P([])));w&&w!==r&&n.call(w,i)&&(b=w);var x=g.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,a){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"===typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return t("throw",e,i,a)}))}a(s.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function C(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,o){var i=new E(u(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(o){Function("r","regeneratorRuntime = r")(n)}},272:function(e,t,r){"use strict";var n=r(126);Object.defineProperty(t,"__esModule",{value:!0});var o=r(541),i=r(176),a=r(549),s=("undefined"!==typeof FHIRCLIENT_PURE?window:r(177)).fetch,u=a("FHIR");t.debug=u;var c={};function f(e){var t=e.value,r=e.code;if("number"!==typeof t)throw new Error("Found a non-numerical unit: "+t+" "+r)}function l(e){return n.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=4;break}return t.next=3,n.awrap(y(e));case 3:throw t.sent;case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}))}function p(e){return e.text().then((function(e){return e.length?JSON.parse(e):""}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,Object.assign(Object.assign({mode:"cors"},t),{headers:Object.assign({accept:"application/json"},t.headers)})).then(l).then((function(e){var t=e.headers.get("Content-Type")+"";return t.match(/\bjson\b/i)?p(e):t.match(/^text\//i)?e.text():e}))}function d(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!c[e]?(c[e]=h(e,t),c[e]):Promise.resolve(c[e])}function y(e){var t,r,i,a;return n.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t="".concat(e.status," ").concat(e.statusText,"\nURL: ").concat(e.url),s.prev=1,!(r=e.headers.get("Content-Type")||"text/plain").match(/\bjson\b/i)){s.next=8;break}return s.next=6,n.awrap(e.json());case 6:(i=s.sent).error?(t+="\n"+i.error,i.error_description&&(t+=": "+i.error_description)):t+="\n\n"+JSON.stringify(i,null,4);case 8:if(!r.match(/^text\//i)){s.next=13;break}return s.next=11,n.awrap(e.text());case 11:(a=s.sent)&&(t+="\n\n"+a);case 13:s.next=17;break;case 15:s.prev=15,s.t0=s.catch(1);case 17:throw new o.default(t,e.status,e.statusText);case 18:case"end":return s.stop()}}),null,null,[[1,15]])}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t=t.trim())?t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e):e}function g(e){return Array.isArray(e)?e:[e]}function b(e,t){var r={};function n(e,t){e&&Array.isArray(e.coding)&&e.coding.forEach((function(e){var n=e.code;n&&(r[n]=r[n]||[],r[n].push(t))}))}return g(e).forEach((function(e){"Observation"===e.resourceType&&e[t]&&(Array.isArray(e[t])?e[t].forEach((function(t){return n(t,e)})):n(e[t],e))})),r}t.units={cm:function(e){var t=e.code,r=e.value;if(f({code:t,value:r}),"cm"==t)return r;if("m"==t)return 100*r;if("in"==t)return 2.54*r;if("[in_us]"==t)return 2.54*r;if("[in_i]"==t)return 2.54*r;if("ft"==t)return 30.48*r;if("[ft_us]"==t)return 30.48*r;throw new Error("Unrecognized length unit: "+t)},kg:function(e){var t=e.code,r=e.value;if(f({code:t,value:r}),"kg"==t)return r;if("g"==t)return r/1e3;if(t.match(/lb/))return r/2.20462;if(t.match(/oz/))return r/35.274;throw new Error("Unrecognized weight unit: "+t)},any:function(e){return f(e),e.value}},t.checkResponse=l,t.responseToJSON=p,t.request=h,t.getAndCache=d,t.fetchConformanceStatement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0,r=String(e).replace(/\/*$/,"/")+"metadata";return d(r,t).catch((function(e){throw new Error('Failed to fetch the conformance statement from "'.concat(r,'". ').concat(e))}))},t.humanizeError=y,t.getPath=v,t.setPath=function(e,t,r){return t.trim().split(".").reduce((function(e,t,n,o){if(!e||n!==o.length-1)return e?e[t]:void 0;e[t]=r}),e),e},t.makeArray=g,t.absolute=function(e,t){return e.match(/^http/)?e:e.match(/^urn/)?e:String(t||"").replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")},t.randomString=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],n=t.length;e--;)r.push(t.charAt(Math.floor(Math.random()*n)));return r.join("")},t.jwtDecode=function(e,t){var r=e.split(".")[1];return JSON.parse(t.atob(r))},t.byCode=b,t.byCodes=function(e,t){var r=b(e,t);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e+""in r})).reduce((function(e,t){return e.concat(r[t+""])}),[])}},t.getPatientParam=function(e,t){var r=(v(e,"rest.0.resource")||[]).find((function(e){return e.type===t}));if(!r)throw new Error('Resource "'.concat(t,'" is not supported by this FHIR server'));if(!Array.isArray(r.searchParam))throw new Error('No search parameters supported for "'.concat(t,'" on this FHIR server'));if("Patient"==t&&r.searchParam.find((function(e){return"_id"==e.name})))return"_id";var n=i.patientParams.find((function(e){return r.searchParam.find((function(t){return t.name==e}))}));if(!n)throw new Error("I don't know what param to use for "+t);return n},t.getTargetWindow=function(e){var t,r,o,i,a,s,c,f=arguments;return n.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=f.length>1&&void 0!==f[1]?f[1]:800,r=f.length>2&&void 0!==f[2]?f[2]:720,"function"!=typeof e){l.next=6;break}return l.next=5,n.awrap(e());case 5:e=l.sent;case 6:if(!e||"object"!=typeof e){l.next=8;break}return l.abrupt("return",e);case 8:if("string"==typeof e){l.next=11;break}return u("Invalid target type '%s'. Failing back to '_self'.",typeof e),l.abrupt("return",self);case 11:if("_self"!=e){l.next=13;break}return l.abrupt("return",self);case 13:if("_parent"!=e){l.next=15;break}return l.abrupt("return",parent);case 15:if("_top"!=e){l.next=17;break}return l.abrupt("return",top);case 17:if("_blank"!=e){l.next=35;break}if(i=null,l.prev=20,i=window.open("","SMARTAuthPopup")){l.next=24;break}throw new Error("Perhaps window.open was blocked");case 24:l.next=29;break;case 26:l.prev=26,l.t0=l.catch(20),o=l.t0;case 29:if(i){l.next=34;break}return u("Cannot open window. Failing back to '_self'. %s",o),l.abrupt("return",self);case 34:return l.abrupt("return",i);case 35:if("popup"!=e){l.next=52;break}if(s=null,l.prev=37,s=window.open("","SMARTAuthPopup",["height="+r,"width="+t,"menubar=0","resizable=1","status=0","top="+(screen.height-r)/2,"left="+(screen.width-t)/2].join(","))){l.next=41;break}throw new Error("Perhaps the popup window was blocked");case 41:l.next=46;break;case 43:l.prev=43,l.t1=l.catch(37),a=l.t1;case 46:if(s){l.next=51;break}return u("Cannot open window. Failing back to '_self'. %s",a),l.abrupt("return",self);case 51:return l.abrupt("return",s);case 52:if(!(c=frames[e])){l.next=55;break}return l.abrupt("return",c);case 55:return u("Unknown target '%s'. Failing back to '_self'.",e),l.abrupt("return",self);case 57:case"end":return l.stop()}}),null,null,[[20,26],[37,43]])}},273:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},274:function(e,t,r){"use strict";var n=r(124),o=r(125),i=r(126);r(556),r(558),Object.defineProperty(t,"__esModule",{value:!0});var a=r(272),s=r(559),u=r(176),c=("undefined"!==typeof FHIRCLIENT_PURE?window:r(177)).Response,f=a.debug.extend("client");function l(e,t){var r,n;return i.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=function(e){var r,n,o;return i.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(r=e.pathname.split("/").pop()){s.next=3;break}throw new Error('Invalid url "'.concat(e,'"'));case 3:if(-1!=u.patientCompartment.indexOf(r)){s.next=5;break}throw new Error('Cannot filter "'.concat(r,'" resources by patient'));case 5:return s.next=7,i.awrap(a.fetchConformanceStatement(t.state.serverUrl));case 7:return n=s.sent,o=a.getPatientParam(n,r),e.searchParams.set(o,t.patient.id),s.abrupt("return",e.href);case 11:case"end":return s.stop()}}))},r=a.absolute("/",t.state.serverUrl),!("string"==typeof e||e instanceof URL)){o.next=7;break}return o.next=5,i.awrap(n(new URL(e+"",r)));case 5:return o.t0=o.sent,o.abrupt("return",{url:o.t0});case 7:return o.next=9,i.awrap(n(new URL(e.url+"",r)));case 9:return e.url=o.sent,o.abrupt("return",e);case 11:case"end":return o.stop()}}))}function p(e,t,r,n,o){var i=a.makeArray(t.resolveReferences).filter(Boolean).map((function(e){return String(e).trim()})).filter(Boolean);if(!(i=i.filter((function(e,t){return!(i.indexOf(e,t+1)>-1)||(f('Duplicated reference path "%s"',e),!1)}))).length)return Promise.resolve();var s={};i.forEach((function(e){var t=e.split(".").length;s[t]||(s[t]=[]),s[t].push(e)}));var u=Promise.resolve();return Object.keys(s).sort().forEach((function(i){var c=s[i];u=u.then((function(){return Promise.all(c.map((function(i){return function(e,t,r,n,o,i){var s=a.getPath(e,t);if(s){var u=Array.isArray(s);return Promise.all(a.makeArray(s).map((function(s,c){var f=s.reference;if(f)return function(e,t,r,n){var o=t[e];return o||(t[e]=r.request({url:e,signal:n}).then((function(r){return t[e]=r,r}),(function(r){throw delete t[e],r})),t[e])}(f,n,o,i).then((function(n){r&&(u?a.setPath(e,"".concat(t,".").concat(c),n):a.setPath(e,t,n))})).catch((function(e){if(404!==e.status)throw e}))})))}}(e,i,!!t.graph,r,n,o)})))}))})),u}var h=function(){function e(t,r){var o=this;n(this,e),this.units=a.units;var s="string"==typeof r?{serverUrl:r}:r;if(!s.serverUrl||!s.serverUrl.match(/https?:\/\/.+/))throw new Error('A "serverUrl" option is required and must begin with "http(s)"');this.state=s,this.environment=t,this._refreshTask=null;var u=this;this.patient={get id(){return u.getPatientId()},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.patient.id;return t?o.request(Object.assign(Object.assign({},e),{url:"Patient/".concat(t)})):Promise.reject(new Error("Patient is not available"))},request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.patient.id?function(){var r;return i.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.awrap(l(e,o));case 2:return r=n.sent,n.abrupt("return",o.request(r,t));case 4:case"end":return n.stop()}}))}():Promise.reject(new Error("Patient is not available"))}},this.encounter={get id(){return u.getEncounterId()},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.encounter.id;return t?o.request(Object.assign(Object.assign({},e),{url:"Encounter/".concat(t)})):Promise.reject(new Error("Encounter is not available"))}},this.user={get fhirUser(){return u.getFhirUser()},get id(){return u.getUserId()},get resourceType(){return u.getUserType()},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.user.fhirUser;return t?o.request(Object.assign(Object.assign({},e),{url:t})):Promise.reject(new Error("User is not available"))}},this.connect(t.fhir)}return o(e,[{key:"connect",value:function(e){if("function"==typeof e){var t={baseUrl:this.state.serverUrl.replace(/\/$/,"")},r=a.getPath(this,"state.tokenResponse.access_token");if(r)t.auth={token:r};else{var n=this.state,o=n.username,i=n.password;o&&i&&(t.auth={user:o,pass:i})}this.api=e(t);var s=a.getPath(this,"state.tokenResponse.patient");s&&(this.patient.api=e(Object.assign(Object.assign({},t),{patient:s})))}return this}},{key:"getPatientId",value:function(){var e=this.state.tokenResponse;return e?e.patient?e.patient:((this.state.scope||"").match(/\blaunch(\/patient)?\b/)?f("The ID of the selected patient is not available. Please check if your server supports that."):f(s.default.noScopeForId,"patient","patient"),null):(this.state.authorizeUri?f(s.default.noIfNoAuth,"the ID of the selected patient"):f(s.default.noFreeContext,"selected patient"),null)}},{key:"getEncounterId",value:function(){var e=this.state.tokenResponse;return e?e.encounter?e.encounter:((this.state.scope||"").match(/\blaunch(\/encounter)?\b/)?f("The ID of the selected encounter is not available. Please check if your server supports that, and that the selected patient has any recorded encounters."):f(s.default.noScopeForId,"encounter","encounter"),null):(this.state.authorizeUri?f(s.default.noIfNoAuth,"the ID of the selected encounter"):f(s.default.noFreeContext,"selected encounter"),null)}},{key:"getIdToken",value:function(){var e=this.state.tokenResponse;if(e){var t=e.id_token,r=this.state.scope||"";if(!t){var n=r.match(/\bopenid\b/),o=r.match(/\bprofile\b/),i=r.match(/\bfhirUser\b/);return f(n&&(i||o)?"The id_token is not available. Please check if your server supports that.":"You are trying to get the id_token but you are not using the right scopes. Please add 'openid' and 'fhirUser' or 'profile' to the scopes you are requesting."),null}return a.jwtDecode(t,this.environment)}return this.state.authorizeUri?f(s.default.noIfNoAuth,"the id_token"):f(s.default.noFreeContext,"id_token"),null}},{key:"getFhirUser",value:function(){var e=this.getIdToken();return e?e.profile:null}},{key:"getUserId",value:function(){var e=this.getFhirUser();return e?e.split("/")[1]:null}},{key:"getUserType",value:function(){var e=this.getFhirUser();return e?e.split("/")[0]:null}},{key:"getAuthorizationHeader",value:function(){var e=a.getPath(this,"state.tokenResponse.access_token");if(e)return"Bearer "+e;var t=this.state,r=t.username,n=t.password;return r&&n?"Basic "+this.environment.btoa(r+":"+n):null}},{key:"_clearState",value:function(){var e,t;return i.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.environment.getStorage(),r.next=3,i.awrap(e.get(u.SMART_KEY));case 3:if(!(t=r.sent)){r.next=7;break}return r.next=7,i.awrap(e.unset(t));case 7:return r.next=9,i.awrap(e.unset(u.SMART_KEY));case 9:this.state.tokenResponse={};case 10:case"end":return r.stop()}}),null,this)}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(Object.assign(Object.assign({},t),{url:"".concat(e.resourceType),method:"POST",body:JSON.stringify(e),headers:Object.assign(Object.assign({},t.headers||{}),{"Content-Type":"application/fhir+json"})}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(Object.assign(Object.assign({},t),{url:"".concat(e.resourceType,"/").concat(e.id),method:"PUT",body:JSON.stringify(e),headers:Object.assign(Object.assign({},t.headers||{}),{"Content-Type":"application/fhir+json"})}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(Object.assign(Object.assign({},t),{url:e,method:"DELETE"}))}},{key:"request",value:function(e){var t,r,n,o,u,f,l,h,d=this,y=arguments;return i.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(t=y.length>1&&void 0!==y[1]?y[1]:{},r=y.length>2&&void 0!==y[2]?y[2]:{},o=a.debug.extend("client:request"),e){v.next=5;break}throw new Error("request requires an url or request options as argument");case 5:return"string"==typeof e||e instanceof URL?(u=String(e),e={}):u=String(e.url),u=a.absolute(u,this.state.serverUrl),(f=this.getAuthorizationHeader())&&(e.headers=Object.assign(Object.assign({},e.headers),{Authorization:f})),l={graph:!1!==t.graph,flat:!!t.flat,pageLimit:(n=t.pageLimit,null!==n&&void 0!==n?n:1),resolveReferences:t.resolveReferences||[],useRefreshToken:!1!==t.useRefreshToken,onPage:"function"==typeof t.onPage?t.onPage:void 0},o("%s, options: %O, fhirOptions: %O",u,e,l),h=e.signal||void 0,v.abrupt("return",a.request(u,e).catch((function(t){if((o("%o",t),401==t.status&&l.useRefreshToken)&&a.getPath(d,"state.tokenResponse.refresh_token"))return d.refresh({signal:h}).then((function(){return d.request(Object.assign(Object.assign({},e),{url:u}),l,r)}));throw t})).catch((function(e){return i.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(401!=e.status){t.next=12;break}if(a.getPath(d,"state.tokenResponse.access_token")){t.next=3;break}throw new Error("This app cannot be accessed directly. Please launch it as SMART app!");case 3:if(l.useRefreshToken){t.next=8;break}return o("Your session has expired and the useRefreshToken option is set to false. Please re-launch the app."),t.next=7,i.awrap(d._clearState());case 7:throw new Error(s.default.expired);case 8:return o("Auto-refresh failed! Please re-launch the app."),t.next=11,i.awrap(d._clearState());case 11:throw new Error(s.default.expired);case 12:throw e;case 13:case"end":return t.stop()}}))})).catch((function(e){throw 403==e.status&&o("Permission denied! Please make sure that you have requested the proper scopes."),e})).then((function(e){return e?"string"==typeof e?e:e instanceof c?e:(t=e,i.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("Bundle"!=t.resourceType){e.next=5;break}return e.next=3,i.awrap(Promise.all((t.entry||[]).map((function(e){return p(e.resource,l,r,d,h)}))));case 3:e.next=7;break;case 5:return e.next=7,i.awrap(p(t,l,r,d,h));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}))).then((function(e){var t,n,o;return i.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e||"Bundle"!=e.resourceType){s.next=19;break}if(t=e.link||[],l.flat&&(e=(e.entry||[]).map((function(e){return e.resource}))),!l.onPage){s.next=6;break}return s.next=6,i.awrap(l.onPage(e,Object.assign({},r)));case 6:if(!--l.pageLimit){s.next=19;break}if(n=t.find((function(e){return"next"==e.relation})),e=a.makeArray(e),!n||!n.url){s.next=19;break}return s.next=12,i.awrap(d.request({url:n.url,signal:h},l,r));case 12:if(o=s.sent,!l.onPage){s.next=15;break}return s.abrupt("return",null);case 15:if(!l.resolveReferences.length){s.next=18;break}return Object.assign(r,o.references),s.abrupt("return",e.concat(a.makeArray(o.data||o)));case 18:return s.abrupt("return",e.concat(a.makeArray(o)));case 19:return s.abrupt("return",e);case 20:case"end":return s.stop()}}))})).then((function(e){if(l.graph)r={};else if(!l.onPage&&l.resolveReferences.length)return{data:e,references:r};return e})):e;var t})));case 13:case"end":return v.stop()}}),null,this)}},{key:"refresh",value:function(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.debug.extend("client:refresh");o("Attempting to refresh with refresh_token...");var i=null===(t=null===(e=this.state)||void 0===e?void 0:e.tokenResponse)||void 0===t?void 0:t.refresh_token;if(!i)throw new Error("Unable to refresh. No refresh_token found.");var s=this.state.tokenUri;if(!s)throw new Error("Unable to refresh. No tokenUri found.");var u=a.getPath(this,"state.tokenResponse.scope")||"";if(-1==u.indexOf("offline_access")&&-1==u.indexOf("online_access"))throw new Error("Unable to refresh. No offline_access or online_access scope found.");return this._refreshTask||(this._refreshTask=a.request(s,Object.assign(Object.assign({},n),{mode:"cors",method:"POST",headers:Object.assign(Object.assign({},n.headers||{}),{"content-type":"application/x-www-form-urlencoded"}),body:"grant_type=refresh_token&refresh_token=".concat(encodeURIComponent(i)),credentials:"include"})).then((function(e){if(!e.access_token)throw new Error("No access token received");return e})).then((function(e){return o("Received new access token %O",e),Object.assign(r.state.tokenResponse,e),r.state})).catch((function(e){var t,n;throw(null===(n=null===(t=r.state)||void 0===t?void 0:t.tokenResponse)||void 0===n?void 0:n.refresh_token)&&(o("Deleting the expired or invalid refresh token."),delete r.state.tokenResponse.refresh_token),e})).finally((function(){r._refreshTask=null;var e=r.state.key;e?r.environment.getStorage().set(e,r.state):o("No 'key' found in Clint.state. Cannot persist the instance.")}))),this._refreshTask}},{key:"byCode",value:function(e,t){return a.byCode(e,t)}},{key:"byCodes",value:function(e,t){return a.byCodes(e,t)}},{key:"getPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a.getPath(e,t)}},{key:"getFhirVersion",value:function(){return a.fetchConformanceStatement(this.state.serverUrl).then((function(e){return e.fhirVersion}))}},{key:"getFhirRelease",value:function(){return this.getFhirVersion().then((function(e){var t;return null!==(t=u.fhirVersions[e])&&void 0!==t?t:0}))}}]),e}();t.default=h},28:function(e,t,r){var n=r(23),o=r(212),i=r(29),a=r(215),s=r(216),u=r(317),c=o("wks"),f=n.Symbol,l=u?f:f&&f.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(f,e)?c[e]=f[e]:c[e]=l("Symbol."+e)),c[e]}},29:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},316:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},317:function(e,t,r){var n=r(216);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},321:function(e,t,r){var n=r(110),o=r(89),i=r(322),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),f=i(a,c);if(e&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===r)return e||f||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},322:function(e,t,r){var n=r(108),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},323:function(e,t,r){var n=r(23);e.exports=n},324:function(e,t,r){var n=r(23),o=r(223),i=n.WeakMap;e.exports="function"===typeof i&&/native code/.test(o(i))},325:function(e,t,r){var n=r(29),o=r(326),i=r(144),a=r(74);e.exports=function(e,t){for(var r=o(t),s=a.f,u=i.f,c=0;c<r.length;c++){var f=r[c];n(e,f)||s(e,f,u(t,f))}}},326:function(e,t,r){var n=r(111),o=r(327),i=r(226),a=r(55);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},327:function(e,t,r){var n=r(221),o=r(142).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},328:function(e,t,r){var n=r(36),o=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},35:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},36:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},53:function(e,t,r){var n=r(54),o=r(74),i=r(90);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},539:function(e,t,r){"use strict";var n=r(124),o=r(125);Object.defineProperty(t,"__esModule",{value:!0});var i=r(540),a=r(274),s=r(560),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._url=null,this._storage=null,this.options=Object.assign({replaceBrowserHistory:!0,fullSessionStorageSupport:!0},t)}return o(e,[{key:"relative",value:function(e){return new URL(e,this.getUrl().href).href}},{key:"getUrl",value:function(){return this._url||(this._url=new URL(location+"")),this._url}},{key:"redirect",value:function(e){location.href=e}},{key:"getStorage",value:function(){return this._storage||(this._storage=new s.default),this._storage}},{key:"getAbortController",value:function(){return AbortController}},{key:"atob",value:function(e){return window.atob(e)}},{key:"btoa",value:function(e){return window.btoa(e)}},{key:"getSmartApi",value:function(){var e=this;return{ready:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.ready.apply(i,[e].concat(r))},authorize:function(t){return i.authorize(e,t)},init:function(t){return i.init(e,t)},client:function(t){return new a.default(e,t)},options:this.options}}},{key:"fhir",get:function(){return"function"===typeof fhir?fhir:null}}]),e}();t.default=u},54:function(e,t,r){var n=r(36);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},540:function(e,t,r){"use strict";var n=r(126);Object.defineProperty(t,"__esModule",{value:!0});var o=r(272),i=r(274),a=r(176);t.KEY=a.SMART_KEY;var s=o.debug.extend("oauth2");function u(){return"object"===typeof window}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0,r=String(e).replace(/\/*$/,"/")+".well-known/smart-configuration";return o.getAndCache(r,t).catch((function(e){throw new Error('Failed to fetch the well-known json "'.concat(r,'". ').concat(e.message))}))}function f(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",arguments.length>1?arguments[1]:void 0).then((function(e){if(!e.authorization_endpoint||!e.token_endpoint)throw new Error("Invalid wellKnownJson");return{registrationUri:e.registration_endpoint||"",authorizeUri:e.authorization_endpoint,tokenUri:e.token_endpoint}}))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0;return o.fetchConformanceStatement(e,t).then((function(e){var t=(o.getPath(e||{},"rest.0.security.extension")||[]).filter((function(e){return"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"===e.url})).map((function(e){return e.extension}))[0],r={registrationUri:"",authorizeUri:"",tokenUri:""};return t&&t.forEach((function(e){"register"===e.url&&(r.registrationUri=e.valueUri),"authorize"===e.url&&(r.authorizeUri=e.valueUri),"token"===e.url&&(r.tokenUri=e.valueUri)})),r}))}function p(e){var t=e.length,r=[],n=!1;return new Promise((function(o,i){function a(e){r.push(e)===t&&i(new Error(r.map((function(e){return e.message})).join("; ")))}e.forEach((function(t){t.promise.then((function(r){return function(t,r){t.complete=!0,n||(n=!0,e.forEach((function(e){e.complete||e.controller.abort()})),o(r))}(t,r)}),a)}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=e.getAbortController(),n=new r,o=new r;return p([{controller:n,promise:f(t,{signal:n.signal})},{controller:o,promise:l(t,{signal:o.signal})}])}function d(e){var t,r,i,c,f,l,p,d,y,v,b,m,w,x,k,E,C,O,_,S,P,R,j,A,T,F,U,I,L,M=arguments;return n.async((function(D){for(;;)switch(D.prev=D.next){case 0:if(t=M.length>1&&void 0!==M[1]?M[1]:{},r=M.length>2&&void 0!==M[2]&&M[2],i=t.redirect_uri,c=t.clientSecret,f=t.fakeTokenResponse,l=t.patientId,p=t.encounterId,d=t.client_id,y=t.target,v=t.width,b=t.height,m=t.completeInTarget,w=t.iss,x=t.launch,k=t.fhirServiceUrl,E=t.redirectUri,C=t.scope,O=void 0===C?"":C,_=t.clientId,S=e.getUrl(),P=e.getStorage(),w=S.searchParams.get("iss")||w,k=S.searchParams.get("fhirServiceUrl")||k,x=S.searchParams.get("launch")||x,_||(_=d),E||(E=i),E=E?e.relative(E):e.relative("."),R=String(w||k||"")){D.next=15;break}throw new Error("No server url found. It must be specified as `iss` or as `fhirServiceUrl` parameter");case 15:return w&&s("Making %s launch...",x?"EHR":"standalone"),x&&!O.match(/launch/)&&(O+=" launch"),D.next=19,n.awrap(P.get(a.SMART_KEY));case 19:return j=D.sent,D.next=22,n.awrap(P.unset(j));case 22:if(A=o.randomString(16),T={clientId:_,scope:O,redirectUri:E,serverUrl:R,clientSecret:c,tokenResponse:{},key:A,completeInTarget:m},!(!u()||o.getPath(e,"options.fullSessionStorageSupport"))){D.next=28;break}return D.next=28,n.awrap(P.set(a.SMART_KEY,A));case 28:if(f&&Object.assign(T.tokenResponse,f),l&&Object.assign(T.tokenResponse,{patient:l}),p&&Object.assign(T.tokenResponse,{encounter:p}),F=E+"?state="+encodeURIComponent(A),!k||w){D.next=41;break}return s("Making fake launch..."),D.next=36,n.awrap(P.set(A,T));case 36:if(!r){D.next=38;break}return D.abrupt("return",F);case 38:return D.next=40,n.awrap(e.redirect(F));case 40:return D.abrupt("return",D.sent);case 41:return D.next=43,n.awrap(h(e,R));case 43:return U=D.sent,Object.assign(T,U),D.next=47,n.awrap(P.set(A,T));case 47:if(T.authorizeUri){D.next=53;break}if(!r){D.next=50;break}return D.abrupt("return",F);case 50:return D.next=52,n.awrap(e.redirect(F));case 52:return D.abrupt("return",D.sent);case 53:if(I=["response_type=code","client_id="+encodeURIComponent(_||""),"scope="+encodeURIComponent(O),"redirect_uri="+encodeURIComponent(E),"aud="+encodeURIComponent(R),"state="+encodeURIComponent(A)],x&&I.push("launch="+encodeURIComponent(x)),F=T.authorizeUri+"?"+I.join("&"),!r){D.next=58;break}return D.abrupt("return",F);case 58:if(!y||!u()){D.next=67;break}return D.next=61,n.awrap(o.getTargetWindow(y,v,b));case 61:if((L=D.sent)!==self)try{L.sessionStorage.removeItem(j),L.sessionStorage.setItem(A,JSON.stringify(T))}catch(N){o.debug('Failed to modify window.sessionStorage. Perhaps it is from different origin?. Failing back to "_self". %s',N),L=self}if(L!==self)try{L.location.href=F,self.addEventListener("message",g)}catch(N){o.debug('Failed to modify window.location. Perhaps it is from different origin?. Failing back to "_self". %s',N),self.location.href=F}else self.location.href=F;return D.abrupt("return");case 67:return D.next=69,n.awrap(e.redirect(F));case 69:return D.abrupt("return",D.sent);case 70:case"end":return D.stop()}}))}function y(){try{return self!==top&&parent!==self}catch(e){return!0}}function v(){try{return self===top&&!!opener&&opener!==self&&!!window.name}catch(e){return!1}}function g(e){"completeAuth"==e.data.type&&e.origin===new URL(self.location.href).origin&&(window.removeEventListener("message",g),window.location.href=e.data.url)}function b(e){var t,r,c,f,l,p,h,d,g,b,w,x,k,E,C,O,_,S,P,R,j;return n.async((function(A){for(;;)switch(A.prev=A.next){case 0:if(l=e.getUrl(),p=e.getStorage(),h=l.searchParams,d=h.get("state"),g=h.get("code"),b=h.get("error"),w=h.get("error_description"),d){A.next=11;break}return A.next=10,n.awrap(p.get(a.SMART_KEY));case 10:d=A.sent;case 11:if(!b&&!w){A.next=13;break}throw new Error([b,w].filter(Boolean).join(": "));case 13:if(s("key: %s, code: %O",d,g),d){A.next=16;break}throw new Error("No 'state' parameter found. Please (re)launch the app.");case 16:return A.next=18,n.awrap(p.get(d));case 18:if(x=A.sent,k=!u()||o.getPath(e,"options.fullSessionStorageSupport"),!u()||!x||x.completeInTarget){A.next=29;break}if(E=y(),C=v(),!E&&!C||l.searchParams.get("complete")){A.next=29;break}return l.searchParams.set("complete","1"),O=l.href,_=l.origin,E&&parent.postMessage({type:"completeAuth",url:O},_),C&&(opener.postMessage({type:"completeAuth",url:O},_),window.close()),A.abrupt("return",new Promise((function(){})));case 29:if(l.searchParams.delete("complete"),S=h.has("state"),u()&&o.getPath(e,"options.replaceBrowserHistory")&&(g||S)&&(g&&(h.delete("code"),s("Removed code parameter from the url.")),S&&k&&(h.delete("state"),s("Removed state parameter from the url.")),window.history.replaceState&&window.history.replaceState({},"",l.href)),x){A.next=34;break}throw new Error("No state found! Please (re)launch the app.");case 34:if(!g||(null===(r=null===(t=x)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.access_token)||!x.tokenUri){A.next=53;break}if(g){A.next=38;break}throw new Error("'code' url parameter is required");case 38:return s("Preparing to exchange the code for access token..."),P=m(e,g,x),s("Token request options: %O",P),A.next=43,n.awrap(o.request(x.tokenUri,P));case 43:if(R=A.sent,s("Token response: %O",R),R.access_token){A.next=47;break}throw new Error("Failed to obtain access token.");case 47:return x=Object.assign(Object.assign({},x),{tokenResponse:R}),A.next=50,n.awrap(p.set(d,x));case 50:s("Authorization successful!"),A.next=54;break;case 53:s((null===(f=null===(c=x)||void 0===c?void 0:c.tokenResponse)||void 0===f?void 0:f.access_token)?"Already authorized":"No authorization needed");case 54:if(!k){A.next=57;break}return A.next=57,n.awrap(p.set(a.SMART_KEY,d));case 57:return j=new i.default(e,x),s("Created client instance: %O",j),A.abrupt("return",j);case 60:case"end":return A.stop()}}))}function m(e,t,r){var n=r.redirectUri,o=r.clientSecret,i=r.tokenUri,a=r.clientId;if(!n)throw new Error("Missing state.redirectUri");if(!i)throw new Error("Missing state.tokenUri");if(!a)throw new Error("Missing state.clientId");var u={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:"code=".concat(t,"&grant_type=authorization_code&redirect_uri=").concat(encodeURIComponent(n))};return o?(u.headers.Authorization="Basic "+e.btoa(a+":"+o),s("Using state.clientSecret to construct the authorization header: %s",u.headers.Authorization)):(s("No clientSecret found in state. Adding the clientId to the POST body"),u.body+="&client_id=".concat(encodeURIComponent(a))),u}t.fetchWellKnownJson=c,t.getSecurityExtensions=h,t.authorize=d,t.isInFrame=y,t.isInPopUp=v,t.onMessage=g,t.completeAuth=b,t.buildTokenRequest=m,t.ready=function(e,t,r){var o;return n.async((function(n){for(;;)switch(n.prev=n.next){case 0:return o=b(e),t&&(o=o.then(t)),r&&(o=o.catch(r)),n.abrupt("return",o);case 4:case"end":return n.stop()}}))},t.init=function(e,t){var r,o,s,u,c,f;return n.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(r=e.getUrl(),o=r.searchParams.get("code"),s=r.searchParams.get("state"),!o||!s){l.next=5;break}return l.abrupt("return",b(e));case 5:if(u=e.getStorage(),l.t0=s,l.t0){l.next=11;break}return l.next=10,n.awrap(u.get(a.SMART_KEY));case 10:l.t0=l.sent;case 11:return c=l.t0,l.next=14,n.awrap(u.get(c));case 14:if(!(f=l.sent)){l.next=17;break}return l.abrupt("return",new i.default(e,f));case 17:return l.abrupt("return",d(e,t).then((function(){return new Promise((function(){}))})));case 18:case"end":return l.stop()}}))}},541:function(e,t,r){"use strict";var n=r(124),o=r(125),i=r(542),a=r(273),s=r(545),u=r(546);Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(e,r,o){var s;return n(this,t),(s=i(this,a(t).call(this,e))).message=e,s.name="HttpError",s.statusCode=r,s.status=r,s.statusText=o,s}return s(t,e),o(t,[{key:"toJSON",value:function(){return{name:this.name,statusCode:this.statusCode,status:this.status,statusText:this.statusText,message:this.message}}}],[{key:"create",value:function(e){var r=0,n="Error",o="Unknown error";return e&&("object"==typeof e?e instanceof Error?o=e.message:e.error&&(r=e.error.status||0,n=e.error.statusText||"Error",e.error.responseText&&(o=e.error.responseText)):"string"==typeof e&&(o=e)),new t(o,r,n)}}]),t}(u(Error));t.default=c},542:function(e,t,r){var n=r(543),o=r(544);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?o(e):t}},543:function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},544:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},545:function(e,t,r){var n=r(175);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},546:function(e,t,r){var n=r(273),o=r(175),i=r(547),a=r(548);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},547:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},548:function(e,t,r){var n=r(175);function o(t,r,i){return!function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},549:function(e,t,r){(function(n){t.log=function(){var e;return"object"===typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/AHRQ-CDS-Connect-PAIN-MANAGEMENT-SUMMARY",REACT_APP_EPIC_SUPPORTED_QUERIES:"false"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(550)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r(82))},55:function(e,t,r){var n=r(60);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},550:function(e,t,r){var n=r(551);e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){var r;function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(n.enabled){var a=n,s=Number(new Date),u=s-(r||s);a.diff=u,a.prev=r,a.curr=s,r=s,t[0]=o.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var n=o.formatters[r];if("function"===typeof n){var i=t[c];e=n.call(a,i),t.splice(c,1),c--}return e})),o.formatArgs.call(a,t),(a.log||o.log).apply(a,t)}}return n.namespace=e,n.enabled=o.enabled(e),n.useColors=o.useColors(),n.color=t(e),n.destroy=i,n.extend=a,"function"===typeof o.init&&o.init(n),o.instances.push(n),n}function i(){var e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function a(e,t){var r=o(this.namespace+("undefined"===typeof t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},o.disable=function(){var e=[].concat(n(o.names.map(s)),n(o.skips.map(s).map((function(e){return"-"+e})))).join(",");return o.enable(""),e},o.enable=function(e){var t;o.save(e),o.names=[],o.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){var i=o.instances[t];i.enabled=o.enabled(i.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=o.skips.length;t<r;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;t<r;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=r(555),Object.keys(e).forEach((function(t){o[t]=e[t]})),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}},551:function(e,t,r){var n=r(552),o=r(553),i=r(554);e.exports=function(e){return n(e)||o(e)||i()}},552:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},553:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},554:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},555:function(e,t){var r=1e3,n=60*r,o=60*n,i=24*o,a=7*i,s=365.25*i;function u(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=o)return u(e,t,o,"hour");if(t>=n)return u(e,t,n,"minute");if(t>=r)return u(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},556:function(e,t,r){"use strict";var n=r(75),o=r(557),i=r(88),a=r(89),s=r(108),u=r(210);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=a(t.length),n=u(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:s(e)),n}})},557:function(e,t,r){"use strict";var n=r(211),o=r(89),i=r(87);e.exports=function e(t,r,a,s,u,c,f,l){for(var p,h=u,d=0,y=!!f&&i(f,l,3);d<s;){if(d in a){if(p=y?y(a[d],d,r):a[d],c>0&&n(p))h=e(t,r,p,o(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=p}h++}d++}return h}},558:function(e,t,r){r(218)("flat")},559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={expired:"Session expired! Please re-launch the app",noScopeForId:"Trying to get the ID of the selected %s. Please add 'launch' or 'launch/%s' to the requested scopes and try again.",noIfNoAuth:"You are trying to get %s but the app is not authorized yet.",noFreeContext:"Please don't use open fhir servers if you need to access launch context items like the %S."}},560:function(e,t,r){"use strict";var n=r(126),o=r(124),i=r(125);Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){o(this,e)}return i(e,[{key:"get",value:function(e){var t;return n.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=sessionStorage[e])){r.next=3;break}return r.abrupt("return",JSON.parse(t));case 3:return r.abrupt("return",null);case 4:case"end":return r.stop()}}))}},{key:"set",value:function(e,t){return n.async((function(r){for(;;)switch(r.prev=r.next){case 0:return sessionStorage[e]=JSON.stringify(t),r.abrupt("return",t);case 2:case"end":return r.stop()}}))}},{key:"unset",value:function(e){return n.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e in sessionStorage)){t.next=3;break}return delete sessionStorage[e],t.abrupt("return",!0);case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}))}}]),e}();t.default=a},561:function(e,t,r){(function(n){var o,i;void 0===(i="function"===typeof(o=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}var u=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n]===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var r=function(r){setTimeout((function(){return r.call(t,e)}))},n=this.listeners[e.type],o=0,i=n.length;o<i;o++)r(n[o]);return!e.defaultPrevented}}}]),t}(),c=function(t){function n(){var t;return e(this,n),(t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?a(e):t}(this,o(n).call(this))).listeners||u.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,t),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,e)),s(o(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(u),f=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!==typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!==typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"===typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=f,e.AbortSignal=c)}("undefined"!==typeof self?self:n)})?o.call(t,r,t,e):o)||(e.exports=i)}).call(this,r(35))},60:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},73:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},74:function(e,t,r){var n=r(54),o=r(214),i=r(55),a=r(139),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},75:function(e,t,r){var n=r(23),o=r(144).f,i=r(53),a=r(93),s=r(137),u=r(325),c=r(328);e.exports=function(e,t){var r,f,l,p,h,d=e.target,y=e.global,v=e.stat;if(r=y?n:v?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in t){if(p=t[f],l=e.noTargetGet?(h=o(r,f))&&h.value:r[f],!c(y?f:d+(v?".":"#")+f,e.forced)&&void 0!==l){if(typeof p===typeof l)continue;u(p,l)}(e.sham||l&&l.sham)&&i(p,"sham",!0),a(r,f,p,e)}}},82:function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},87:function(e,t,r){var n=r(316);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},88:function(e,t,r){var n=r(136);e.exports=function(e){return Object(n(e))}},89:function(e,t,r){var n=r(108),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},90:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},92:function(e,t,r){var n,o,i,a=r(324),s=r(23),u=r(60),c=r(53),f=r(29),l=r(143),p=r(141),h=s.WeakMap;if(a){var d=new h,y=d.get,v=d.has,g=d.set;n=function(e,t){return g.call(d,e,t),t},o=function(e){return y.call(d,e)||{}},i=function(e){return v.call(d,e)}}else{var b=l("state");p[b]=!0,n=function(e,t){return c(e,b,t),t},o=function(e){return f(e,b)?e[b]:{}},i=function(e){return f(e,b)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},93:function(e,t,r){var n=r(23),o=r(53),i=r(29),a=r(137),s=r(223),u=r(92),c=u.get,f=u.enforce,l=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),f(r).source=l.join("string"==typeof t?t:"")),e!==n?(u?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=r:o(e,t,r)):c?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))}}]);